!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SlashCanvas2=t():e.SlashCanvas2=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var o;o=function(e){var t=n(1),o=n(2),i=t.Engine,r=t.Render,s=t.World,a=t.Bodies,l=(t.Body,t.Svg,t.MouseConstraint,n(4)),c=n(5),u=n(7),p=n(6),d=n(8),f=function(e,t){this.rootDomId=e,this.engine=null,this.render=null,this.canvas=null,this.ctx=null,this.blockList=[],this.slashLineList=[],t||(t={}),this.width=t.width||400,this.height=t.height||400,this.gravityX=isNaN(t.gravityX)?0:t.gravityX,this.gravityY=isNaN(t.gravityY)?0:t.gravityY,this.sound=t.sound?new l(t.sound):null,this.svgSource=t.svgSource||null,this.svgScale=t.svgScale||1,this.svgShift=t.svgShift||{x:0,y:0},this.slashLineColor=t.slashLineColor||"yellow",isNaN(t.slashMovementPower)||(c.prototype.slashMovementPower=t.slashMovementPower),this.init()};return f.prototype.init=function(){var e=this;this.initWorld();var t=new XMLHttpRequest;t.open("get",this.svgSource,!0),t.onload=function(){for(var n=p.loadSvgGraphicsPath(t.responseText),o=[],i=0;i<n.length;i++){var r=n[i];r.pointList.forEach(function(t){t.x=t.x*e.svgScale+e.svgShift.x,t.y=t.y*e.svgScale+e.svgShift.y}),block=new c,block.createBody(r.pointList,r.style),e.blockList.push(block),o=o.concat(block.body)}s.add(e.engine.world,o),e.bindCanvasEvent(e.render.canvas)},t.send(null)},f.prototype.initWorld=function(){var e=this;this.engine=i.create(),this.render=r.create({element:document.getElementById(this.rootDomId),engine:this.engine,options:{wireframes:!1}}),this.engine.world.gravity.x=this.gravityX,this.engine.world.gravity.y=this.gravityY,this.canvas=this.render.canvas,this.render.canvas.width=this.width,this.render.canvas.height=this.height,this.resetBodies(),i.run(this.engine),r.run(this.render),t.Events.on(this.render,"afterRender",function(){var t=e.render.canvas.getContext("2d");e.blockList.forEach(function(e){e.onPaint(t)}),t.strokeStyle=e.slashLineColor,t.globalAlpha=1,t.lineWidth=2,e.slashLineList.forEach(function(e){var n=e.s,o=e.e;t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(o.x,o.y),t.stroke(),e.life--}),e.slashLineList=e.slashLineList.filter(function(e){return e.life>0})})},f.prototype.resetBodies=function(){var e=this.engine;s.clear(this.engine.world),i.clear(this.engine);var t=this.width,n=this.height,o=15;s.add(e.world,[a.rectangle(t/2,n,t+2*o,o,{isStatic:!0}),a.rectangle(t/2,0,t+2*o,o,{isStatic:!0}),a.rectangle(t,0,o,2*(n+2*o),{isStatic:!0}),a.rectangle(0,0,o,2*(n+2*o),{isStatic:!0})])},f.prototype.bindCanvasEvent=function(e){var t=this,n=[],i=this.width*this.width+this.height*this.height;o(e).on("mousedown touchstart",function(e){n.length=0,n[0]=d.getCursorPoint(e)}),o(e).on("mousemove touchmove",function(e){e.preventDefault(),n.length>0&&(n[1]=d.getCursorPoint(e))}),o(e).on("mouseup touchend touchcancel",function(e){if(n.length>1){var o=u.vecSub2D(n[0],n[1]),r=u.length2D({x:0,y:0},o);if(r>5){t.sound&&t.sound.play();var a=[];t.blockList.forEach(function(e){a=a.concat(e.slash(n))}),t.resetBodies(),t.blockList=a,t.bodyList=[],a.forEach(function(e){t.bodyList.push(e.body)}),s.add(t.engine.world,t.bodyList);var l=i/r;o=u.vecMult2D(o,l);var c=u.vecSub2D(n[0],o),p=u.vecAdd2D(n[1],o);t.slashLineList.push({s:c,e:p,life:60})}}n.length=0})},f}.call(t,n,t,e),/*!
	 * SlashCanvas2
	 * v1.0.0 (c) 2016 miyanokomiya.tokyo
	 * license MIT
	 */
!(void 0!==o&&(e.exports=o))},function(e,t,n){var o,o;/**!
	* matter-js 0.10.0 by @liabru 2016-05-01
	* http://brm.io/matter-js/
	* License MIT
	*/
!function(t){e.exports=t()}(function(){return function e(t,n,i){function r(a,l){if(!n[a]){if(!t[a]){var c="function"==typeof o&&o;if(!l&&c)return o(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var p=n[a]={exports:{}};t[a][0].call(p.exports,function(e){var n=t[a][1][e];return r(n?n:e)},p,p.exports,e,t,n,i)}return n[a].exports}for(var s="function"==typeof o&&o,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vertices"),r=e("../geometry/Vector"),s=e("../core/Sleeping"),a=(e("../render/Render"),e("../core/Common")),l=e("../geometry/Bounds"),c=e("../geometry/Axes");!function(){o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o.create=function(t){var n={id:a.nextId(),type:"body",label:"Body",parts:[],angle:0,vertices:i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:1.5}},o=a.extend(n,t);return e(o,t),o},o.nextGroup=function(e){return e?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var e=function(e,t){o.set(e,{bounds:e.bounds||l.create(e.vertices),positionPrev:e.positionPrev||r.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),i.rotate(e.vertices,e.angle,e.position),c.rotate(e.axes,e.angle),l.update(e.bounds,e.vertices,e.velocity),o.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var n=e.isStatic?"#eeeeee":a.choose(["#556270","#4ECDC4","#C7F464","#FF6B6B","#C44D58"]),s=a.shadeColor(n,-20);e.render.fillStyle=e.render.fillStyle||n,e.render.strokeStyle=e.render.strokeStyle||s,e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};o.set=function(e,t,n){var i;"string"==typeof t&&(i=t,t={},t[i]=n);for(i in t)if(n=t[i],t.hasOwnProperty(i))switch(i){case"isStatic":o.setStatic(e,n);break;case"isSleeping":s.set(e,n);break;case"mass":o.setMass(e,n);break;case"density":o.setDensity(e,n);break;case"inertia":o.setInertia(e,n);break;case"vertices":o.setVertices(e,n);break;case"position":o.setPosition(e,n);break;case"angle":o.setAngle(e,n);break;case"velocity":o.setVelocity(e,n);break;case"angularVelocity":o.setAngularVelocity(e,n);break;case"parts":o.setParts(e,n);break;default:e[i]=n}},o.setStatic=function(e,t){for(var n=0;n<e.parts.length;n++){var o=e.parts[n];o.isStatic=t,t&&(o.restitution=0,o.friction=1,o.mass=o.inertia=o.density=1/0,o.inverseMass=o.inverseInertia=0,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.anglePrev=o.angle,o.angularVelocity=0,o.speed=0,o.angularSpeed=0,o.motion=0)}},o.setMass=function(e,t){e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},o.setDensity=function(e,t){o.setMass(e,t*e.area),e.density=t},o.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},o.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=i.create(t,e),e.axes=c.fromVertices(e.vertices),e.area=i.area(e.vertices),o.setMass(e,e.density*e.area);var n=i.centre(e.vertices);i.translate(e.vertices,n,-1),o.setInertia(e,o._inertiaScale*i.inertia(e.vertices,e.mass)),i.translate(e.vertices,e.position),l.update(e.bounds,e.vertices,e.velocity)},o.setParts=function(e,n,r){var s;for(n=n.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,s=0;s<n.length;s++){var a=n[s];a!==e&&(a.parent=e,e.parts.push(a))}if(1!==e.parts.length){if(r="undefined"!=typeof r?r:!0){var l=[];for(s=0;s<n.length;s++)l=l.concat(n[s].vertices);i.clockwiseSort(l);var c=i.hull(l),u=i.centre(c);o.setVertices(e,c),i.translate(e.vertices,u)}var p=t(e);e.area=p.area,e.parent=e,e.position.x=p.centre.x,e.position.y=p.centre.y,e.positionPrev.x=p.centre.x,e.positionPrev.y=p.centre.y,o.setMass(e,p.mass),o.setInertia(e,p.inertia),o.setPosition(e,p.centre)}},o.setPosition=function(e,t){var n=r.sub(t,e.position);e.positionPrev.x+=n.x,e.positionPrev.y+=n.y;for(var o=0;o<e.parts.length;o++){var s=e.parts[o];s.position.x+=n.x,s.position.y+=n.y,i.translate(s.vertices,n),l.update(s.bounds,s.vertices,e.velocity)}},o.setAngle=function(e,t){var n=t-e.angle;e.anglePrev+=n;for(var o=0;o<e.parts.length;o++){var s=e.parts[o];s.angle+=n,i.rotate(s.vertices,n,e.position),c.rotate(s.axes,n),l.update(s.bounds,s.vertices,e.velocity),o>0&&r.rotateAbout(s.position,n,e.position,s.position)}},o.setVelocity=function(e,t){e.positionPrev.x=e.position.x-t.x,e.positionPrev.y=e.position.y-t.y,e.velocity.x=t.x,e.velocity.y=t.y,e.speed=r.magnitude(e.velocity)},o.setAngularVelocity=function(e,t){e.anglePrev=e.angle-t,e.angularVelocity=t,e.angularSpeed=Math.abs(e.angularVelocity)},o.translate=function(e,t){o.setPosition(e,r.add(e.position,t))},o.rotate=function(e,t){o.setAngle(e,e.angle+t)},o.scale=function(e,n,r,s){for(var a=0;a<e.parts.length;a++){var u=e.parts[a];i.scale(u.vertices,n,r,e.position),u.axes=c.fromVertices(u.vertices),e.isStatic||(u.area=i.area(u.vertices),o.setMass(u,e.density*u.area),i.translate(u.vertices,{x:-u.position.x,y:-u.position.y}),o.setInertia(u,i.inertia(u.vertices,u.mass)),i.translate(u.vertices,{x:u.position.x,y:u.position.y})),l.update(u.bounds,u.vertices,e.velocity)}if(e.circleRadius&&(n===r?e.circleRadius*=n:e.circleRadius=null),!e.isStatic){var p=t(e);e.area=p.area,o.setMass(e,p.mass),o.setInertia(e,p.inertia)}},o.update=function(e,t,n,o){var s=Math.pow(t*n*e.timeScale,2),a=1-e.frictionAir*n*e.timeScale,u=e.position.x-e.positionPrev.x,p=e.position.y-e.positionPrev.y;e.velocity.x=u*a*o+e.force.x/e.mass*s,e.velocity.y=p*a*o+e.force.y/e.mass*s,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.angularVelocity=(e.angle-e.anglePrev)*a*o+e.torque/e.inertia*s,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=r.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var d=0;d<e.parts.length;d++){var f=e.parts[d];i.translate(f.vertices,e.velocity),d>0&&(f.position.x+=e.velocity.x,f.position.y+=e.velocity.y),0!==e.angularVelocity&&(i.rotate(f.vertices,e.angularVelocity,e.position),c.rotate(f.axes,e.angularVelocity),d>0&&r.rotateAbout(f.position,e.angularVelocity,e.position,f.position)),l.update(f.bounds,f.vertices,e.velocity)}},o.applyForce=function(e,t,n){e.force.x+=n.x,e.force.y+=n.y;var o={x:t.x-e.position.x,y:t.y-e.position.y};e.torque+=o.x*n.y-o.y*n.x};var t=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===e.parts.length?0:1;n<e.parts.length;n++){var o=e.parts[n];t.mass+=o.mass,t.area+=o.area,t.inertia+=o.inertia,t.centre=r.add(t.centre,r.mult(o.position,o.mass!==1/0?o.mass:1))}return t.centre=r.div(t.centre,t.mass!==1/0?t.mass:e.parts.length),t}}()},{"../core/Common":14,"../core/Sleeping":20,"../geometry/Axes":23,"../geometry/Bounds":24,"../geometry/Vector":26,"../geometry/Vertices":27,"../render/Render":29}],2:[function(e,t,n){var o={};t.exports=o;var i=e("../core/Events"),r=e("../core/Common"),s=e("./Body");!function(){o.create=function(e){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite"},e)},o.setModified=function(e,t,n,i){if(e.isModified=t,n&&e.parent&&o.setModified(e.parent,t,n,i),i)for(var r=0;r<e.composites.length;r++){var s=e.composites[r];o.setModified(s,t,n,i)}},o.add=function(e,t){var n=[].concat(t);i.trigger(e,"beforeAdd",{object:t});for(var s=0;s<n.length;s++){var a=n[s];switch(a.type){case"body":if(a.parent!==a){r.log("Composite.add: skipped adding a compound body part (you must add its parent instead)","warn");break}o.addBody(e,a);break;case"constraint":o.addConstraint(e,a);break;case"composite":o.addComposite(e,a);break;case"mouseConstraint":o.addConstraint(e,a.constraint)}}return i.trigger(e,"afterAdd",{object:t}),e},o.remove=function(e,t,n){var r=[].concat(t);i.trigger(e,"beforeRemove",{object:t});for(var s=0;s<r.length;s++){var a=r[s];switch(a.type){case"body":o.removeBody(e,a,n);break;case"constraint":o.removeConstraint(e,a,n);break;case"composite":o.removeComposite(e,a,n);break;case"mouseConstraint":o.removeConstraint(e,a.constraint)}}return i.trigger(e,"afterRemove",{object:t}),e},o.addComposite=function(e,t){return e.composites.push(t),t.parent=e,o.setModified(e,!0,!0,!1),e},o.removeComposite=function(e,t,n){var i=r.indexOf(e.composites,t);if(-1!==i&&(o.removeCompositeAt(e,i),o.setModified(e,!0,!0,!1)),n)for(var s=0;s<e.composites.length;s++)o.removeComposite(e.composites[s],t,!0);return e},o.removeCompositeAt=function(e,t){return e.composites.splice(t,1),o.setModified(e,!0,!0,!1),e},o.addBody=function(e,t){return e.bodies.push(t),o.setModified(e,!0,!0,!1),e},o.removeBody=function(e,t,n){var i=r.indexOf(e.bodies,t);if(-1!==i&&(o.removeBodyAt(e,i),o.setModified(e,!0,!0,!1)),n)for(var s=0;s<e.composites.length;s++)o.removeBody(e.composites[s],t,!0);return e},o.removeBodyAt=function(e,t){return e.bodies.splice(t,1),o.setModified(e,!0,!0,!1),e},o.addConstraint=function(e,t){return e.constraints.push(t),o.setModified(e,!0,!0,!1),e},o.removeConstraint=function(e,t,n){var i=r.indexOf(e.constraints,t);if(-1!==i&&o.removeConstraintAt(e,i),n)for(var s=0;s<e.composites.length;s++)o.removeConstraint(e.composites[s],t,!0);return e},o.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),o.setModified(e,!0,!0,!1),e},o.clear=function(e,t,n){if(n)for(var i=0;i<e.composites.length;i++)o.clear(e.composites[i],t,!0);return t?e.bodies=e.bodies.filter(function(e){return e.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,o.setModified(e,!0,!0,!1),e},o.allBodies=function(e){for(var t=[].concat(e.bodies),n=0;n<e.composites.length;n++)t=t.concat(o.allBodies(e.composites[n]));return t},o.allConstraints=function(e){for(var t=[].concat(e.constraints),n=0;n<e.composites.length;n++)t=t.concat(o.allConstraints(e.composites[n]));return t},o.allComposites=function(e){for(var t=[].concat(e.composites),n=0;n<e.composites.length;n++)t=t.concat(o.allComposites(e.composites[n]));return t},o.get=function(e,t,n){var i,r;switch(n){case"body":i=o.allBodies(e);break;case"constraint":i=o.allConstraints(e);break;case"composite":i=o.allComposites(e).concat(e)}return i?(r=i.filter(function(e){return e.id.toString()===t.toString()}),0===r.length?null:r[0]):null},o.move=function(e,t,n){return o.remove(e,t),o.add(n,t),e},o.rebase=function(e){for(var t=o.allBodies(e).concat(o.allConstraints(e)).concat(o.allComposites(e)),n=0;n<t.length;n++)t[n].id=r.nextId();return o.setModified(e,!0,!0,!1),e},o.translate=function(e,t,n){for(var i=n?o.allBodies(e):e.bodies,r=0;r<i.length;r++)s.translate(i[r],t);return o.setModified(e,!0,!0,!1),e},o.rotate=function(e,t,n,i){for(var r=Math.cos(t),a=Math.sin(t),l=i?o.allBodies(e):e.bodies,c=0;c<l.length;c++){var u=l[c],p=u.position.x-n.x,d=u.position.y-n.y;s.setPosition(u,{x:n.x+(p*r-d*a),y:n.y+(p*a+d*r)}),s.rotate(u,t)}return o.setModified(e,!0,!0,!1),e},o.scale=function(e,t,n,i,r){for(var a=r?o.allBodies(e):e.bodies,l=0;l<a.length;l++){var c=a[l],u=c.position.x-i.x,p=c.position.y-i.y;s.setPosition(c,{x:i.x+u*t,y:i.y+p*n}),s.scale(c,t,n)}return o.setModified(e,!0,!0,!1),e}}()},{"../core/Common":14,"../core/Events":16,"./Body":1}],3:[function(e,t,n){var o={};t.exports=o;var i=e("./Composite"),r=(e("../constraint/Constraint"),e("../core/Common"));!function(){o.create=function(e){var t=i.create(),n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-(1/0),y:-(1/0)},max:{x:1/0,y:1/0}}};return r.extend(t,n,e)}}()},{"../constraint/Constraint":12,"../core/Common":14,"./Composite":2}],4:[function(e,t,n){var o={};t.exports=o,function(){o.create=function(e){return{id:o.id(e),vertex:e,normalImpulse:0,tangentImpulse:0}},o.id=function(e){return e.body.id+"_"+e.index}}()},{}],5:[function(e,t,n){var o={};t.exports=o;var i=e("./SAT"),r=e("./Pair"),s=e("../geometry/Bounds");!function(){o.collisions=function(e,t){for(var n=[],a=t.pairs.table,l=0;l<e.length;l++){var c=e[l][0],u=e[l][1];if((!c.isStatic&&!c.isSleeping||!u.isStatic&&!u.isSleeping)&&o.canCollide(c.collisionFilter,u.collisionFilter)&&s.overlaps(c.bounds,u.bounds))for(var p=c.parts.length>1?1:0;p<c.parts.length;p++)for(var d=c.parts[p],f=u.parts.length>1?1:0;f<u.parts.length;f++){var h=u.parts[f];if(d===c&&h===u||s.overlaps(d.bounds,h.bounds)){var v,y=r.id(d,h),g=a[y];v=g&&g.isActive?g.collision:null;var m=i.collides(d,h,v);m.collided&&n.push(m)}}}return n},o.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!==(e.mask&t.category)&&0!==(t.mask&e.category)}}()},{"../geometry/Bounds":24,"./Pair":7,"./SAT":11}],6:[function(e,t,n){var o={};t.exports=o;var i=e("./Pair"),r=e("./Detector"),s=e("../core/Common");!function(){o.create=function(e){var t={controller:o,detector:r.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return s.extend(t,e)},o.update=function(n,o,i,r){var s,d,f,h,v,y=i.world,g=n.buckets,m=!1;for(s=0;s<o.length;s++){var x=o[s];if((!x.isSleeping||r)&&!(x.bounds.max.x<y.bounds.min.x||x.bounds.min.x>y.bounds.max.x||x.bounds.max.y<y.bounds.min.y||x.bounds.min.y>y.bounds.max.y)){var b=t(n,x);if(!x.region||b.id!==x.region.id||r){(!x.region||r)&&(x.region=b);var w=e(b,x.region);for(d=w.startCol;d<=w.endCol;d++)for(f=w.startRow;f<=w.endRow;f++){v=a(d,f),h=g[v];var S=d>=b.startCol&&d<=b.endCol&&f>=b.startRow&&f<=b.endRow,C=d>=x.region.startCol&&d<=x.region.endCol&&f>=x.region.startRow&&f<=x.region.endRow;!S&&C&&C&&h&&u(n,h,x),(x.region===b||S&&!C||r)&&(h||(h=l(g,v)),c(n,h,x))}x.region=b,m=!0}}}m&&(n.pairsList=p(n))},o.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]};var e=function(e,t){var o=Math.min(e.startCol,t.startCol),i=Math.max(e.endCol,t.endCol),r=Math.min(e.startRow,t.startRow),s=Math.max(e.endRow,t.endRow);return n(o,i,r,s)},t=function(e,t){var o=t.bounds,i=Math.floor(o.min.x/e.bucketWidth),r=Math.floor(o.max.x/e.bucketWidth),s=Math.floor(o.min.y/e.bucketHeight),a=Math.floor(o.max.y/e.bucketHeight);return n(i,r,s,a)},n=function(e,t,n,o){return{id:e+","+t+","+n+","+o,startCol:e,endCol:t,startRow:n,endRow:o}},a=function(e,t){return e+","+t},l=function(e,t){var n=e[t]=[];return n},c=function(e,t,n){for(var o=0;o<t.length;o++){var r=t[o];if(!(n.id===r.id||n.isStatic&&r.isStatic)){var s=i.id(n,r),a=e.pairs[s];a?a[2]+=1:e.pairs[s]=[n,r,1]}}t.push(n)},u=function(e,t,n){t.splice(s.indexOf(t,n),1);for(var o=0;o<t.length;o++){var r=t[o],a=i.id(n,r),l=e.pairs[a];l&&(l[2]-=1)}},p=function(e){var t,n,o=[];t=s.keys(e.pairs);for(var i=0;i<t.length;i++)n=e.pairs[t[i]],n[2]>0?o.push(n):delete e.pairs[t[i]];return o}}()},{"../core/Common":14,"./Detector":5,"./Pair":7}],7:[function(e,t,n){var o={};t.exports=o;var i=e("./Contact");!function(){o.create=function(e,t){var n=e.bodyA,i=e.bodyB,r=e.parentA,s=e.parentB,a={id:o.id(n,i),bodyA:n,bodyB:i,contacts:{},activeContacts:[],separation:0,isActive:!0,isSensor:n.isSensor||i.isSensor,timeCreated:t,timeUpdated:t,inverseMass:r.inverseMass+s.inverseMass,friction:Math.min(r.friction,s.friction),frictionStatic:Math.max(r.frictionStatic,s.frictionStatic),restitution:Math.max(r.restitution,s.restitution),slop:Math.max(r.slop,s.slop)};return o.update(a,e,t),a},o.update=function(e,t,n){var r=e.contacts,s=t.supports,a=e.activeContacts,l=t.parentA,c=t.parentB;if(e.collision=t,e.inverseMass=l.inverseMass+c.inverseMass,e.friction=Math.min(l.friction,c.friction),e.frictionStatic=Math.max(l.frictionStatic,c.frictionStatic),e.restitution=Math.max(l.restitution,c.restitution),e.slop=Math.max(l.slop,c.slop),a.length=0,t.collided){for(var u=0;u<s.length;u++){var p=s[u],d=i.id(p),f=r[d];f?a.push(f):a.push(r[d]=i.create(p))}e.separation=t.depth,o.setActive(e,!0,n)}else e.isActive===!0&&o.setActive(e,!1,n)},o.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.activeContacts.length=0)},o.id=function(e,t){return e.id<t.id?e.id+"_"+t.id:t.id+"_"+e.id}}()},{"./Contact":4}],8:[function(e,t,n){var o={};t.exports=o;var i=e("./Pair"),r=e("../core/Common");!function(){var e=1e3;o.create=function(e){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},o.update=function(e,t,n){var o,s,a,l,c=e.list,u=e.table,p=e.collisionStart,d=e.collisionEnd,f=e.collisionActive,h=[];for(p.length=0,d.length=0,f.length=0,l=0;l<t.length;l++)o=t[l],o.collided&&(s=i.id(o.bodyA,o.bodyB),h.push(s),a=u[s],a?(a.isActive?f.push(a):p.push(a),i.update(a,o,n)):(a=i.create(o,n),u[s]=a,p.push(a),c.push(a)));for(l=0;l<c.length;l++)a=c[l],a.isActive&&-1===r.indexOf(h,a.id)&&(i.setActive(a,!1,n),d.push(a))},o.removeOld=function(t,n){var o,i,r,s,a=t.list,l=t.table,c=[];for(s=0;s<a.length;s++)o=a[s],i=o.collision,i.bodyA.isSleeping||i.bodyB.isSleeping?o.timeUpdated=n:n-o.timeUpdated>e&&c.push(s);for(s=0;s<c.length;s++)r=c[s]-s,o=a[r],delete l[o.id],a.splice(r,1)},o.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}}()},{"../core/Common":14,"./Pair":7}],9:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vector"),r=e("./SAT"),s=e("../geometry/Bounds"),a=e("../factory/Bodies"),l=e("../geometry/Vertices");!function(){o.ray=function(e,t,n,o){o=o||1e-100;for(var l=i.angle(t,n),c=i.magnitude(i.sub(t,n)),u=.5*(n.x+t.x),p=.5*(n.y+t.y),d=a.rectangle(u,p,c,o,{angle:l}),f=[],h=0;h<e.length;h++){var v=e[h];if(s.overlaps(v.bounds,d.bounds))for(var y=1===v.parts.length?0:1;y<v.parts.length;y++){var g=v.parts[y];if(s.overlaps(g.bounds,d.bounds)){var m=r.collides(g,d);if(m.collided){m.body=m.bodyA=m.bodyB=v,f.push(m);break}}}}return f},o.region=function(e,t,n){for(var o=[],i=0;i<e.length;i++){var r=e[i],a=s.overlaps(r.bounds,t);(a&&!n||!a&&n)&&o.push(r)}return o},o.point=function(e,t){for(var n=[],o=0;o<e.length;o++){var i=e[o];if(s.contains(i.bounds,t))for(var r=1===i.parts.length?0:1;r<i.parts.length;r++){var a=i.parts[r];if(s.contains(a.bounds,t)&&l.contains(a.vertices,t)){n.push(i);break}}}return n}}()},{"../factory/Bodies":21,"../geometry/Bounds":24,"../geometry/Vector":26,"../geometry/Vertices":27,"./SAT":11}],10:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vertices"),r=e("../geometry/Vector"),s=e("../core/Common"),a=e("../geometry/Bounds");!function(){o._restingThresh=4,o._restingThreshTangent=6,o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o.preSolvePosition=function(e){var t,n,o;for(t=0;t<e.length;t++)n=e[t],n.isActive&&(o=n.activeContacts.length,n.collision.parentA.totalContacts+=o,n.collision.parentB.totalContacts+=o)},o.solvePosition=function(e,t){var n,i,s,a,l,c,u,p,d,f=r._temp[0],h=r._temp[1],v=r._temp[2],y=r._temp[3];for(n=0;n<e.length;n++)i=e[n],i.isActive&&!i.isSensor&&(s=i.collision,a=s.parentA,l=s.parentB,c=s.normal,u=r.sub(r.add(l.positionImpulse,l.position,f),r.add(a.positionImpulse,r.sub(l.position,s.penetration,h),v),y),i.separation=r.dot(c,u));for(n=0;n<e.length;n++)i=e[n],!i.isActive||i.isSensor||i.separation<0||(s=i.collision,a=s.parentA,l=s.parentB,c=s.normal,d=(i.separation-i.slop)*t,(a.isStatic||l.isStatic)&&(d*=2),a.isStatic||a.isSleeping||(p=o._positionDampen/a.totalContacts,a.positionImpulse.x+=c.x*d*p,a.positionImpulse.y+=c.y*d*p),l.isStatic||l.isSleeping||(p=o._positionDampen/l.totalContacts,l.positionImpulse.x-=c.x*d*p,l.positionImpulse.y-=c.y*d*p))},o.postSolvePosition=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.totalContacts=0,0!==n.positionImpulse.x||0!==n.positionImpulse.y){for(var s=0;s<n.parts.length;s++){var l=n.parts[s];i.translate(l.vertices,n.positionImpulse),a.update(l.bounds,l.vertices,n.velocity),l.position.x+=n.positionImpulse.x,l.position.y+=n.positionImpulse.y}n.positionPrev.x+=n.positionImpulse.x,n.positionPrev.y+=n.positionImpulse.y,r.dot(n.positionImpulse,n.velocity)<0?(n.positionImpulse.x=0,n.positionImpulse.y=0):(n.positionImpulse.x*=o._positionWarming,n.positionImpulse.y*=o._positionWarming)}}},o.preSolveVelocity=function(e){var t,n,o,i,s,a,l,c,u,p,d,f,h,v,y=r._temp[0],g=r._temp[1];for(t=0;t<e.length;t++)if(o=e[t],o.isActive&&!o.isSensor)for(i=o.activeContacts,s=o.collision,a=s.parentA,l=s.parentB,c=s.normal,u=s.tangent,n=0;n<i.length;n++)p=i[n],d=p.vertex,f=p.normalImpulse,h=p.tangentImpulse,(0!==f||0!==h)&&(y.x=c.x*f+u.x*h,y.y=c.y*f+u.y*h,a.isStatic||a.isSleeping||(v=r.sub(d,a.position,g),a.positionPrev.x+=y.x*a.inverseMass,a.positionPrev.y+=y.y*a.inverseMass,a.anglePrev+=r.cross(v,y)*a.inverseInertia),l.isStatic||l.isSleeping||(v=r.sub(d,l.position,g),l.positionPrev.x-=y.x*l.inverseMass,l.positionPrev.y-=y.y*l.inverseMass,l.anglePrev-=r.cross(v,y)*l.inverseInertia))},o.solveVelocity=function(e,t){for(var n=t*t,i=r._temp[0],a=r._temp[1],l=r._temp[2],c=r._temp[3],u=r._temp[4],p=r._temp[5],d=0;d<e.length;d++){var f=e[d];if(f.isActive&&!f.isSensor){var h=f.collision,v=h.parentA,y=h.parentB,g=h.normal,m=h.tangent,x=f.activeContacts,b=1/x.length;v.velocity.x=v.position.x-v.positionPrev.x,v.velocity.y=v.position.y-v.positionPrev.y,y.velocity.x=y.position.x-y.positionPrev.x,y.velocity.y=y.position.y-y.positionPrev.y,v.angularVelocity=v.angle-v.anglePrev,y.angularVelocity=y.angle-y.anglePrev;for(var w=0;w<x.length;w++){var S=x[w],C=S.vertex,T=r.sub(C,v.position,a),A=r.sub(C,y.position,l),k=r.add(v.velocity,r.mult(r.perp(T),v.angularVelocity),c),P=r.add(y.velocity,r.mult(r.perp(A),y.angularVelocity),u),M=r.sub(k,P,p),E=r.dot(g,M),D=r.dot(m,M),B=Math.abs(D),L=s.sign(D),I=(1+f.restitution)*E,N=s.clamp(f.separation+E,0,1)*o._frictionNormalMultiplier,R=D,O=1/0;B>f.friction*f.frictionStatic*N*n&&(O=B,R=s.clamp(f.friction*L*n,-O,O));var F=r.cross(T,g),j=r.cross(A,g),q=b/(v.inverseMass+y.inverseMass+v.inverseInertia*F*F+y.inverseInertia*j*j);if(I*=q,R*=q,0>E&&E*E>o._restingThresh*n)S.normalImpulse=0;else{var _=S.normalImpulse;S.normalImpulse=Math.min(S.normalImpulse+I,0),I=S.normalImpulse-_}if(D*D>o._restingThreshTangent*n)S.tangentImpulse=0;else{var V=S.tangentImpulse;S.tangentImpulse=s.clamp(S.tangentImpulse+R,-O,O),R=S.tangentImpulse-V}i.x=g.x*I+m.x*R,i.y=g.y*I+m.y*R,v.isStatic||v.isSleeping||(v.positionPrev.x+=i.x*v.inverseMass,v.positionPrev.y+=i.y*v.inverseMass,v.anglePrev+=r.cross(T,i)*v.inverseInertia),y.isStatic||y.isSleeping||(y.positionPrev.x-=i.x*y.inverseMass,y.positionPrev.y-=i.y*y.inverseMass,y.anglePrev-=r.cross(A,i)*y.inverseInertia)}}}}}()},{"../core/Common":14,"../geometry/Bounds":24,"../geometry/Vector":26,"../geometry/Vertices":27}],11:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vertices"),r=e("../geometry/Vector");!function(){o.collides=function(t,o,s){var a,l,c,u,p=s,d=!1;if(p){var f=t.parent,h=o.parent,v=f.speed*f.speed+f.angularSpeed*f.angularSpeed+h.speed*h.speed+h.angularSpeed*h.angularSpeed;d=p&&p.collided&&.2>v,u=p}else u={collided:!1,bodyA:t,bodyB:o};if(p&&d){var y=u.axisBody,g=y===t?o:t,m=[y.axes[p.axisNumber]];if(c=e(y.vertices,g.vertices,m),u.reused=!0,c.overlap<=0)return u.collided=!1,u}else{if(a=e(t.vertices,o.vertices,t.axes),a.overlap<=0)return u.collided=!1,u;if(l=e(o.vertices,t.vertices,o.axes),l.overlap<=0)return u.collided=!1,u;a.overlap<l.overlap?(c=a,u.axisBody=t):(c=l,u.axisBody=o),u.axisNumber=c.axisNumber}u.bodyA=t.id<o.id?t:o,u.bodyB=t.id<o.id?o:t,u.collided=!0,u.normal=c.axis,u.depth=c.overlap,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent,t=u.bodyA,o=u.bodyB,r.dot(u.normal,r.sub(o.position,t.position))>0&&(u.normal=r.neg(u.normal)),u.tangent=r.perp(u.normal),u.penetration={x:u.normal.x*u.depth,y:u.normal.y*u.depth};var x=n(t,o,u.normal),b=u.supports||[];if(b.length=0,i.contains(t.vertices,x[0])&&b.push(x[0]),i.contains(t.vertices,x[1])&&b.push(x[1]),b.length<2){var w=n(o,t,r.neg(u.normal));i.contains(o.vertices,w[0])&&b.push(w[0]),b.length<2&&i.contains(o.vertices,w[1])&&b.push(w[1])}return b.length<1&&(b=[x[0]]),u.supports=b,u};var e=function(e,n,o){for(var i,s,a=r._temp[0],l=r._temp[1],c={overlap:Number.MAX_VALUE},u=0;u<o.length;u++){if(s=o[u],t(a,e,s),t(l,n,s),i=Math.min(a.max-l.min,l.max-a.min),0>=i)return c.overlap=i,c;i<c.overlap&&(c.overlap=i,c.axis=s,c.axisNumber=u)}return c},t=function(e,t,n){for(var o=r.dot(t[0],n),i=o,s=1;s<t.length;s+=1){var a=r.dot(t[s],n);a>i?i=a:o>a&&(o=a)}e.min=o,e.max=i},n=function(e,t,n){for(var o,i,s,a,l=Number.MAX_VALUE,c=r._temp[0],u=t.vertices,p=e.position,d=0;d<u.length;d++)i=u[d],c.x=i.x-p.x,c.y=i.y-p.y,o=-r.dot(n,c),l>o&&(l=o,s=i);var f=s.index-1>=0?s.index-1:u.length-1;i=u[f],c.x=i.x-p.x,c.y=i.y-p.y,l=-r.dot(n,c),a=i;var h=(s.index+1)%u.length;return i=u[h],c.x=i.x-p.x,c.y=i.y-p.y,o=-r.dot(n,c),l>o&&(a=i),[s,a]}}()},{"../geometry/Vector":26,"../geometry/Vertices":27}],12:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vertices"),r=e("../geometry/Vector"),s=e("../core/Sleeping"),a=e("../geometry/Bounds"),l=e("../geometry/Axes"),c=e("../core/Common");!function(){var e=1e-6,t=.001;o.create=function(t){var n=t;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var o=n.bodyA?r.add(n.bodyA.position,n.pointA):n.pointA,i=n.bodyB?r.add(n.bodyB.position,n.pointB):n.pointB,s=r.magnitude(r.sub(o,i));n.length=n.length||s||e;var a={visible:!0,lineWidth:2,strokeStyle:"#666"};return n.render=c.extend(a,n.render),n.id=n.id||c.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||1,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n},o.solveAll=function(e,t){for(var n=0;n<e.length;n++)o.solve(e[n],t)},o.solve=function(n,o){var i=n.bodyA,s=n.bodyB,a=n.pointA,l=n.pointB;i&&!i.isStatic&&(n.pointA=r.rotate(a,i.angle-n.angleA),n.angleA=i.angle),s&&!s.isStatic&&(n.pointB=r.rotate(l,s.angle-n.angleB),n.angleB=s.angle);var c=a,u=l;if(i&&(c=r.add(i.position,a)),s&&(u=r.add(s.position,l)),c&&u){var p=r.sub(c,u),d=r.magnitude(p);0===d&&(d=e);var f=(d-n.length)/d,h=r.div(p,d),v=r.mult(p,.5*f*n.stiffness*o*o);if(!(Math.abs(1-d/n.length)<t*o)){var y,g,m,x,b,w,S,C;i&&!i.isStatic?(m={x:c.x-i.position.x+v.x,y:c.y-i.position.y+v.y},i.velocity.x=i.position.x-i.positionPrev.x,i.velocity.y=i.position.y-i.positionPrev.y,i.angularVelocity=i.angle-i.anglePrev,y=r.add(i.velocity,r.mult(r.perp(m),i.angularVelocity)),b=r.dot(m,h),S=i.inverseMass+i.inverseInertia*b*b):(y={x:0,y:0},S=i?i.inverseMass:0),s&&!s.isStatic?(x={x:u.x-s.position.x-v.x,y:u.y-s.position.y-v.y},s.velocity.x=s.position.x-s.positionPrev.x,s.velocity.y=s.position.y-s.positionPrev.y,s.angularVelocity=s.angle-s.anglePrev,g=r.add(s.velocity,r.mult(r.perp(x),s.angularVelocity)),w=r.dot(x,h),C=s.inverseMass+s.inverseInertia*w*w):(g={x:0,y:0},C=s?s.inverseMass:0);var T=r.sub(g,y),A=r.dot(h,T)/(S+C);A>0&&(A=0);var k,P={x:h.x*A,y:h.y*A};i&&!i.isStatic&&(k=r.cross(m,P)*i.inverseInertia*(1-n.angularStiffness),i.constraintImpulse.x-=v.x,i.constraintImpulse.y-=v.y,i.constraintImpulse.angle+=k,i.position.x-=v.x,i.position.y-=v.y,i.angle+=k),s&&!s.isStatic&&(k=r.cross(x,P)*s.inverseInertia*(1-n.angularStiffness),s.constraintImpulse.x+=v.x,s.constraintImpulse.y+=v.y,s.constraintImpulse.angle-=k,s.position.x+=v.x,s.position.y+=v.y,s.angle-=k)}}},o.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],o=n.constraintImpulse;if(0!==o.x||0!==o.y||0!==o.angle){s.set(n,!1);for(var c=0;c<n.parts.length;c++){var u=n.parts[c];i.translate(u.vertices,o),c>0&&(u.position.x+=o.x,u.position.y+=o.y),0!==o.angle&&(i.rotate(u.vertices,o.angle,n.position),l.rotate(u.axes,o.angle),c>0&&r.rotateAbout(u.position,o.angle,n.position,u.position)),a.update(u.bounds,u.vertices,n.velocity)}o.angle=0,o.x=0,o.y=0}}}}()},{"../core/Common":14,"../core/Sleeping":20,"../geometry/Axes":23,"../geometry/Bounds":24,"../geometry/Vector":26,"../geometry/Vertices":27}],13:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vertices"),r=e("../core/Sleeping"),s=e("../core/Mouse"),a=e("../core/Events"),l=e("../collision/Detector"),c=e("./Constraint"),u=e("../body/Composite"),p=e("../core/Common"),d=e("../geometry/Bounds");!function(){o.create=function(t,n){var i=(t?t.mouse:null)||(n?n.mouse:null);i||(t&&t.render&&t.render.canvas?i=s.create(t.render.canvas):n&&n.element?i=s.create(n.element):(i=s.create(),p.log("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected","warn")));var r=c.create({label:"Mouse Constraint",pointA:i.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),l={type:"mouseConstraint",mouse:i,element:null,body:null,constraint:r,collisionFilter:{category:1,mask:4294967295,group:0}},d=p.extend(l,n);return a.on(t,"tick",function(){var n=u.allBodies(t.world);o.update(d,n),e(d)}),d},o.update=function(e,t){var n=e.mouse,o=e.constraint,s=e.body;if(0===n.button){if(o.bodyB)r.set(o.bodyB,!1),o.pointA=n.position;else for(var c=0;c<t.length;c++)if(s=t[c],d.contains(s.bounds,n.position)&&l.canCollide(s.collisionFilter,e.collisionFilter))for(var u=s.parts.length>1?1:0;u<s.parts.length;u++){var p=s.parts[u];if(i.contains(p.vertices,n.position)){o.pointA=n.position,o.bodyB=e.body=s,o.pointB={x:n.position.x-s.position.x,y:n.position.y-s.position.y},o.angleB=s.angle,r.set(s,!1),a.trigger(e,"startdrag",{mouse:n,body:s});break}}}else o.bodyB=e.body=null,o.pointB=null,s&&a.trigger(e,"enddrag",{mouse:n,body:s})};var e=function(e){var t=e.mouse,n=t.sourceEvents;n.mousemove&&a.trigger(e,"mousemove",{mouse:t}),n.mousedown&&a.trigger(e,"mousedown",{mouse:t}),n.mouseup&&a.trigger(e,"mouseup",{mouse:t}),s.clearSourceEvents(t)}}()},{"../body/Composite":2,"../collision/Detector":5,"../core/Common":14,"../core/Events":16,"../core/Mouse":18,"../core/Sleeping":20,"../geometry/Bounds":24,"../geometry/Vertices":27,"./Constraint":12}],14:[function(e,t,n){var o={};t.exports=o,function(){o._nextId=0,o._seed=0,o.extend=function(e,t){var n,i,r;"boolean"==typeof t?(n=2,r=t):(n=1,r=!0),i=Array.prototype.slice.call(arguments,n);for(var s=0;s<i.length;s++){var a=i[s];if(a)for(var l in a)r&&a[l]&&a[l].constructor===Object?e[l]&&e[l].constructor!==Object?e[l]=a[l]:(e[l]=e[l]||{},o.extend(e[l],r,a[l])):e[l]=a[l]}return e},o.clone=function(e,t){return o.extend({},t,e)},o.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},o.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),o=0;o<n.length;o++)t.push(e[n[o]]);return t}for(var i in e)t.push(e[i]);return t},o.shadeColor=function(e,t){var n=parseInt(e.slice(1),16),o=Math.round(2.55*t),i=(n>>16)+o,r=(n>>8&255)+o,s=(255&n)+o;return"#"+(16777216+65536*(255>i?1>i?0:i:255)+256*(255>r?1>r?0:r:255)+(255>s?1>s?0:s:255)).toString(16).slice(1)},o.shuffle=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(o.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e},o.choose=function(e){return e[Math.floor(o.random()*e.length)]},o.isElement=function(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}},o.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.clamp=function(e,t,n){return t>e?t:e>n?n:e},o.sign=function(e){return 0>e?-1:1},o.now=function(){var e=window.performance||{};return e.now=function(){return e.now||e.webkitNow||e.msNow||e.oNow||e.mozNow||function(){return+new Date}}(),e.now()},o.random=function(t,n){return t="undefined"!=typeof t?t:0,n="undefined"!=typeof n?n:1,t+e()*(n-t)},o.colorToNumber=function(e){return e=e.replace("#",""),3==e.length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),
parseInt(e,16)},o.log=function(e,t){if(console&&console.log&&console.warn)switch(t){case"warn":console.warn("Matter.js:",e);break;case"error":console.log("Matter.js:",e)}},o.nextId=function(){return o._nextId++},o.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1};var e=function(){return o._seed=(9301*o._seed+49297)%233280,o._seed/233280}}()},{}],15:[function(e,t,n){var o={};t.exports=o;var i=e("../body/World"),r=e("./Sleeping"),s=e("../collision/Resolver"),a=e("../render/Render"),l=e("../collision/Pairs"),c=(e("./Metrics"),e("../collision/Grid")),u=e("./Events"),p=e("../body/Composite"),d=e("../constraint/Constraint"),f=e("./Common"),h=e("../body/Body");!function(){o.create=function(e,t){t=f.isElement(e)?t:e,e=f.isElement(e)?e:null,t=t||{},(e||t.render)&&f.log("Engine.create: engine.render is deprecated (see docs)","warn");var n={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],timing:{timestamp:0,timeScale:1},broadphase:{controller:c}},o=f.extend(n,t);if(e||o.render){var r={element:e,controller:a};o.render=f.extend(r,o.render)}return o.render&&o.render.controller&&(o.render=o.render.controller.create(o.render)),o.render&&(o.render.engine=o),o.world=t.world||i.create(o.world),o.pairs=l.create(),o.broadphase=o.broadphase.controller.create(o.broadphase),o.metrics=o.metrics||{extended:!1},o},o.update=function(o,i,a){i=i||1e3/60,a=a||1;var c,f=o.world,h=o.timing,v=o.broadphase,y=[];h.timestamp+=i*h.timeScale;var g={timestamp:h.timestamp};u.trigger(o,"beforeUpdate",g);var m=p.allBodies(f),x=p.allConstraints(f);for(o.enableSleeping&&r.update(m,h.timeScale),t(m,f.gravity),n(m,i,h.timeScale,a,f.bounds),c=0;c<o.constraintIterations;c++)d.solveAll(x,h.timeScale);d.postSolveAll(m),v.controller?(f.isModified&&v.controller.clear(v),v.controller.update(v,m,o,f.isModified),y=v.pairsList):y=m,f.isModified&&p.setModified(f,!1,!1,!0);var b=v.detector(y,o),w=o.pairs,S=h.timestamp;for(l.update(w,b,S),l.removeOld(w,S),o.enableSleeping&&r.afterCollisions(w.list,h.timeScale),w.collisionStart.length>0&&u.trigger(o,"collisionStart",{pairs:w.collisionStart}),s.preSolvePosition(w.list),c=0;c<o.positionIterations;c++)s.solvePosition(w.list,h.timeScale);for(s.postSolvePosition(m),s.preSolveVelocity(w.list),c=0;c<o.velocityIterations;c++)s.solveVelocity(w.list,h.timeScale);return w.collisionActive.length>0&&u.trigger(o,"collisionActive",{pairs:w.collisionActive}),w.collisionEnd.length>0&&u.trigger(o,"collisionEnd",{pairs:w.collisionEnd}),e(m),u.trigger(o,"afterUpdate",g),o},o.merge=function(e,t){if(f.extend(e,t),t.world){e.world=t.world,o.clear(e);for(var n=p.allBodies(e.world),i=0;i<n.length;i++){var s=n[i];r.set(s,!1),s.id=f.nextId()}}},o.clear=function(e){var t=e.world;l.clear(e.pairs);var n=e.broadphase;if(n.controller){var o=p.allBodies(t);n.controller.clear(n),n.controller.update(n,o,e,!0)}};var e=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.force.x=0,n.force.y=0,n.torque=0}},t=function(e,t){var n="undefined"!=typeof t.scale?t.scale:.001;if((0!==t.x||0!==t.y)&&0!==n)for(var o=0;o<e.length;o++){var i=e[o];i.isStatic||i.isSleeping||(i.force.y+=i.mass*t.y*n,i.force.x+=i.mass*t.x*n)}},n=function(e,t,n,o,i){for(var r=0;r<e.length;r++){var s=e[r];s.isStatic||s.isSleeping||h.update(s,t,n,o)}}}()},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Grid":6,"../collision/Pairs":8,"../collision/Resolver":10,"../constraint/Constraint":12,"../render/Render":29,"./Common":14,"./Events":16,"./Metrics":17,"./Sleeping":20}],16:[function(e,t,n){var o={};t.exports=o;var i=e("./Common");!function(){o.on=function(e,t,n){for(var o,i=t.split(" "),r=0;r<i.length;r++)o=i[r],e.events=e.events||{},e.events[o]=e.events[o]||[],e.events[o].push(n);return n},o.off=function(e,t,n){if(!t)return void(e.events={});"function"==typeof t&&(n=t,t=i.keys(e.events).join(" "));for(var o=t.split(" "),r=0;r<o.length;r++){var s=e.events[o[r]],a=[];if(n&&s)for(var l=0;l<s.length;l++)s[l]!==n&&a.push(s[l]);e.events[o[r]]=a}},o.trigger=function(e,t,n){var o,r,s,a;if(e.events){n||(n={}),o=t.split(" ");for(var l=0;l<o.length;l++)if(r=o[l],s=e.events[r]){a=i.clone(n,!1),a.name=r,a.source=e;for(var c=0;c<s.length;c++)s[c].apply(e,[a])}}}}()},{"./Common":14}],17:[function(e,t,n){},{"../body/Composite":2,"./Common":14}],18:[function(e,t,n){var o={};t.exports=o;var i=e("../core/Common");!function(){o.create=function(t){var n={};return t||i.log("Mouse.create: element was undefined, defaulting to document.body","warn"),n.element=t||document.body,n.absolute={x:0,y:0},n.position={x:0,y:0},n.mousedownPosition={x:0,y:0},n.mouseupPosition={x:0,y:0},n.offset={x:0,y:0},n.scale={x:1,y:1},n.wheelDelta=0,n.button=-1,n.pixelRatio=n.element.getAttribute("data-pixel-ratio")||1,n.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},n.mousemove=function(t){var o=e(t,n.element,n.pixelRatio),i=t.changedTouches;i&&(n.button=0,t.preventDefault()),n.absolute.x=o.x,n.absolute.y=o.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.sourceEvents.mousemove=t},n.mousedown=function(t){var o=e(t,n.element,n.pixelRatio),i=t.changedTouches;i?(n.button=0,t.preventDefault()):n.button=t.button,n.absolute.x=o.x,n.absolute.y=o.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mousedownPosition.x=n.position.x,n.mousedownPosition.y=n.position.y,n.sourceEvents.mousedown=t},n.mouseup=function(t){var o=e(t,n.element,n.pixelRatio),i=t.changedTouches;i&&t.preventDefault(),n.button=-1,n.absolute.x=o.x,n.absolute.y=o.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mouseupPosition.x=n.position.x,n.mouseupPosition.y=n.position.y,n.sourceEvents.mouseup=t},n.mousewheel=function(e){n.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault()},o.setElement(n,n.element),n},o.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove),t.addEventListener("mousedown",e.mousedown),t.addEventListener("mouseup",e.mouseup),t.addEventListener("mousewheel",e.mousewheel),t.addEventListener("DOMMouseScroll",e.mousewheel),t.addEventListener("touchmove",e.mousemove),t.addEventListener("touchstart",e.mousedown),t.addEventListener("touchend",e.mouseup)},o.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},o.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},o.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y};var e=function(e,t,n){var o,i,r=t.getBoundingClientRect(),s=document.documentElement||document.body.parentNode||document.body,a=void 0!==window.pageXOffset?window.pageXOffset:s.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:s.scrollTop,c=e.changedTouches;return c?(o=c[0].pageX-r.left-a,i=c[0].pageY-r.top-l):(o=e.pageX-r.left-a,i=e.pageY-r.top-l),{x:o/(t.clientWidth/t.width*n),y:i/(t.clientHeight/t.height*n)}}}()},{"../core/Common":14}],19:[function(e,t,n){var o={};t.exports=o;var i=e("./Events"),r=e("./Engine"),s=e("./Common");!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(s.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o.create=function(e){var t={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},n=s.extend(t,e);return n.delta=n.delta||1e3/n.fps,n.deltaMin=n.deltaMin||1e3/n.fps,n.deltaMax=n.deltaMax||1e3/(.5*n.fps),n.fps=1e3/n.delta,n},o.run=function(t,n){return"undefined"!=typeof t.positionIterations&&(n=t,t=o.create()),function i(r){t.frameRequestId=e(i),r&&t.enabled&&o.tick(t,n,r)}(),t},o.tick=function(e,t,n){var o,s=t.timing,a=1,l={timestamp:s.timestamp};i.trigger(e,"beforeTick",l),i.trigger(t,"beforeTick",l),e.isFixed?o=e.delta:(o=n-e.timePrev||e.delta,e.timePrev=n,e.deltaHistory.push(o),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),o=Math.min.apply(null,e.deltaHistory),o=o<e.deltaMin?e.deltaMin:o,o=o>e.deltaMax?e.deltaMax:o,a=o/e.delta,e.delta=o),0!==e.timeScalePrev&&(a*=s.timeScale/e.timeScalePrev),0===s.timeScale&&(a=0),e.timeScalePrev=s.timeScale,e.correction=a,e.frameCounter+=1,n-e.counterTimestamp>=1e3&&(e.fps=e.frameCounter*((n-e.counterTimestamp)/1e3),e.counterTimestamp=n,e.frameCounter=0),i.trigger(e,"tick",l),i.trigger(t,"tick",l),t.world.isModified&&t.render&&t.render.controller&&t.render.controller.clear&&t.render.controller.clear(t.render),i.trigger(e,"beforeUpdate",l),r.update(t,o,a),i.trigger(e,"afterUpdate",l),t.render&&t.render.controller&&(i.trigger(e,"beforeRender",l),i.trigger(t,"beforeRender",l),t.render.controller.world(t.render),i.trigger(e,"afterRender",l),i.trigger(t,"afterRender",l)),i.trigger(e,"afterTick",l),i.trigger(t,"afterTick",l)},o.stop=function(e){t(e.frameRequestId)},o.start=function(e,t){o.run(e,t)}}()},{"./Common":14,"./Engine":15,"./Events":16}],20:[function(e,t,n){var o={};t.exports=o;var i=e("./Events");!function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var r=e[i],s=r.speed*r.speed+r.angularSpeed*r.angularSpeed;if(0===r.force.x&&0===r.force.y){var a=Math.min(r.motion,s),l=Math.max(r.motion,s);r.motion=o._minBias*a+(1-o._minBias)*l,r.sleepThreshold>0&&r.motion<o._motionSleepThreshold*n?(r.sleepCounter+=1,r.sleepCounter>=r.sleepThreshold&&o.set(r,!0)):r.sleepCounter>0&&(r.sleepCounter-=1)}else o.set(r,!1)}},o.afterCollisions=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var r=e[i];if(r.isActive){var s=r.collision,a=s.bodyA.parent,l=s.bodyB.parent;if(!(a.isSleeping&&l.isSleeping||a.isStatic||l.isStatic)&&(a.isSleeping||l.isSleeping)){var c=a.isSleeping&&!a.isStatic?a:l,u=c===a?l:a;!c.isStatic&&u.motion>o._motionWakeThreshold*n&&o.set(c,!1)}}}},o.set=function(e,t){var n=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,n||i.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,n&&i.trigger(e,"sleepEnd"))}}()},{"./Events":16}],21:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vertices"),r=e("../core/Common"),s=e("../body/Body"),a=e("../geometry/Bounds"),l=e("../geometry/Vector");!function(){o.rectangle=function(e,t,n,o,a){a=a||{};var l={label:"Rectangle Body",position:{x:e,y:t},vertices:i.fromPath("L 0 0 L "+n+" 0 L "+n+" "+o+" L 0 "+o)};if(a.chamfer){var c=a.chamfer;l.vertices=i.chamfer(l.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete a.chamfer}return s.create(r.extend({},l,a))},o.trapezoid=function(e,t,n,o,a,l){l=l||{},a*=.5;var c,u=(1-2*a)*n,p=n*a,d=p+u,f=d+p;c=.5>a?"L 0 0 L "+p+" "+-o+" L "+d+" "+-o+" L "+f+" 0":"L 0 0 L "+d+" "+-o+" L "+f+" 0";var h={label:"Trapezoid Body",position:{x:e,y:t},vertices:i.fromPath(c)};if(l.chamfer){var v=l.chamfer;h.vertices=i.chamfer(h.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete l.chamfer}return s.create(r.extend({},h,l))},o.circle=function(e,t,n,i,s){i=i||{};var a={label:"Circle Body",circleRadius:n};s=s||25;var l=Math.ceil(Math.max(10,Math.min(s,n)));return l%2===1&&(l+=1),o.polygon(e,t,l,n,r.extend({},a,i))},o.polygon=function(e,t,n,a,l){if(l=l||{},3>n)return o.circle(e,t,a,l);for(var c=2*Math.PI/n,u="",p=.5*c,d=0;n>d;d+=1){var f=p+d*c,h=Math.cos(f)*a,v=Math.sin(f)*a;u+="L "+h.toFixed(3)+" "+v.toFixed(3)+" "}var y={label:"Polygon Body",position:{x:e,y:t},vertices:i.fromPath(u)};if(l.chamfer){var g=l.chamfer;y.vertices=i.chamfer(y.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete l.chamfer}return s.create(r.extend({},y,l))},o.fromVertices=function(e,t,n,o,c,u,p){var d,f,h,v,y,g,m,x,b;for(o=o||{},f=[],c="undefined"!=typeof c?c:!1,u="undefined"!=typeof u?u:.01,p="undefined"!=typeof p?p:10,window.decomp||r.log("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull.","warn"),r.isArray(n[0])||(n=[n]),x=0;x<n.length;x+=1)if(v=n[x],h=i.isConvex(v),h||!window.decomp)v=h?i.clockwiseSort(v):i.hull(v),f.push({position:{x:e,y:t},vertices:v});else{var w=new decomp.Polygon;for(y=0;y<v.length;y++)w.vertices.push([v[y].x,v[y].y]);w.makeCCW(),u!==!1&&w.removeCollinearPoints(u);var S=w.quickDecomp();for(y=0;y<S.length;y++){var C=S[y],T=[];for(g=0;g<C.vertices.length;g++)T.push({x:C.vertices[g][0],y:C.vertices[g][1]});p>0&&i.area(T)<p||f.push({position:i.centre(T),vertices:T})}}for(y=0;y<f.length;y++)f[y]=s.create(r.extend(f[y],o));if(c){var A=5;for(y=0;y<f.length;y++){var k=f[y];for(g=y+1;g<f.length;g++){var P=f[g];if(a.overlaps(k.bounds,P.bounds)){var M=k.vertices,E=P.vertices;for(m=0;m<k.vertices.length;m++)for(b=0;b<P.vertices.length;b++){var D=l.magnitudeSquared(l.sub(M[(m+1)%M.length],E[b])),B=l.magnitudeSquared(l.sub(M[m],E[(b+1)%E.length]));A>D&&A>B&&(M[m].isInternal=!0,E[b].isInternal=!0)}}}}}return f.length>1?(d=s.create(r.extend({parts:f.slice(0)},o)),s.setPosition(d,{x:e,y:t}),d):f[0]}}()},{"../body/Body":1,"../core/Common":14,"../geometry/Bounds":24,"../geometry/Vector":26,"../geometry/Vertices":27}],22:[function(e,t,n){var o={};t.exports=o;var i=e("../body/Composite"),r=e("../constraint/Constraint"),s=e("../core/Common"),a=e("../body/Body"),l=e("./Bodies");!function(){o.stack=function(e,t,n,o,r,s,l){for(var c,u=i.create({label:"Stack"}),p=e,d=t,f=0,h=0;o>h;h++){for(var v=0,y=0;n>y;y++){var g=l(p,d,y,h,c,f);if(g){var m=g.bounds.max.y-g.bounds.min.y,x=g.bounds.max.x-g.bounds.min.x;m>v&&(v=m),a.translate(g,{x:.5*x,y:.5*m}),p=g.bounds.max.x+r,i.addBody(u,g),c=g,f+=1}else p+=r}d+=v+s,p=e}return u},o.chain=function(e,t,n,o,a,l){for(var c=e.bodies,u=1;u<c.length;u++){var p=c[u-1],d=c[u],f=p.bounds.max.y-p.bounds.min.y,h=p.bounds.max.x-p.bounds.min.x,v=d.bounds.max.y-d.bounds.min.y,y=d.bounds.max.x-d.bounds.min.x,g={bodyA:p,pointA:{x:h*t,y:f*n},bodyB:d,pointB:{x:y*o,y:v*a}},m=s.extend(g,l);i.addConstraint(e,r.create(m))}return e.label+=" Chain",e},o.mesh=function(e,t,n,o,a){var l,c,u,p,d,f=e.bodies;for(l=0;n>l;l++){for(c=1;t>c;c++)u=f[c-1+l*t],p=f[c+l*t],i.addConstraint(e,r.create(s.extend({bodyA:u,bodyB:p},a)));if(l>0)for(c=0;t>c;c++)u=f[c+(l-1)*t],p=f[c+l*t],i.addConstraint(e,r.create(s.extend({bodyA:u,bodyB:p},a))),o&&c>0&&(d=f[c-1+(l-1)*t],i.addConstraint(e,r.create(s.extend({bodyA:d,bodyB:p},a)))),o&&t-1>c&&(d=f[c+1+(l-1)*t],i.addConstraint(e,r.create(s.extend({bodyA:d,bodyB:p},a))))}return e.label+=" Mesh",e},o.pyramid=function(e,t,n,i,r,s,l){return o.stack(e,t,n,i,r,s,function(t,o,s,c,u,p){var d=Math.min(i,Math.ceil(n/2)),f=u?u.bounds.max.x-u.bounds.min.x:0;if(!(c>d)){c=d-c;var h=c,v=n-1-c;if(!(h>s||s>v)){1===p&&a.translate(u,{x:(s+(n%2===1?1:-1))*f,y:0});var y=u?s*f:0;return l(e+y+s*r,o,s,c,u,p)}}})},o.newtonsCradle=function(e,t,n,o,s){for(var a=i.create({label:"Newtons Cradle"}),c=0;n>c;c++){var u=1.9,p=l.circle(e+c*(o*u),t+s,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),d=r.create({pointA:{x:e+c*(o*u),y:t},bodyB:p});i.addBody(a,p),i.addConstraint(a,d)}return a},o.car=function(e,t,n,o,s){var c=a.nextGroup(!0),u=-20,p=.5*-n+u,d=.5*n-u,f=0,h=i.create({label:"Car"}),v=l.trapezoid(e,t,n,o,.3,{collisionFilter:{group:c},friction:.01,chamfer:{radius:10}}),y=l.circle(e+p,t+f,s,{collisionFilter:{group:c},friction:.8,density:.01}),g=l.circle(e+d,t+f,s,{collisionFilter:{group:c},friction:.8,density:.01}),m=r.create({bodyA:v,pointA:{x:p,y:f},bodyB:y,stiffness:.2}),x=r.create({bodyA:v,pointA:{x:d,y:f},bodyB:g,stiffness:.2});return i.addBody(h,v),i.addBody(h,y),i.addBody(h,g),i.addConstraint(h,m),i.addConstraint(h,x),h},o.softBody=function(e,t,n,i,r,a,c,u,p,d){p=s.extend({inertia:1/0},p),d=s.extend({stiffness:.4},d);var f=o.stack(e,t,n,i,r,a,function(e,t){return l.circle(e,t,u,p)});return o.mesh(f,n,i,c,d),f.label="Soft Body",f}}()},{"../body/Body":1,"../body/Composite":2,"../constraint/Constraint":12,"../core/Common":14,"./Bodies":21}],23:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vector"),r=e("../core/Common");!function(){o.fromVertices=function(e){for(var t={},n=0;n<e.length;n++){var o=(n+1)%e.length,s=i.normalise({x:e[o].y-e[n].y,y:e[n].x-e[o].x}),a=0===s.y?1/0:s.x/s.y;a=a.toFixed(3).toString(),t[a]=s}return r.values(t)},o.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),o=Math.sin(t),i=0;i<e.length;i++){var r,s=e[i];r=s.x*n-s.y*o,s.y=s.x*o+s.y*n,s.x=r}}}()},{"../core/Common":14,"../geometry/Vector":26}],24:[function(e,t,n){var o={};t.exports=o,function(){o.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&o.update(t,e),t},o.update=function(e,t,n){e.min.x=1/0,e.max.x=-(1/0),e.min.y=1/0,e.max.y=-(1/0);for(var o=0;o<t.length;o++){var i=t[o];i.x>e.max.x&&(e.max.x=i.x),i.x<e.min.x&&(e.min.x=i.x),i.y>e.max.y&&(e.max.y=i.y),i.y<e.min.y&&(e.min.y=i.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},o.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},o.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},o.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},o.shift=function(e,t){var n=e.max.x-e.min.x,o=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+o}}()},{}],25:[function(e,t,n){var o={};t.exports=o;e("../geometry/Bounds");!function(){o.pathToVertices=function(t,n){var o,i,r,s,a,l,c,u,p,d,f,h,v=[],y=0,g=0,m=0;n=n||15;var x=function(e,t,n){var o=n%2===1&&n>1;if(!p||e!=p.x||t!=p.y){p&&o?(f=p.x,h=p.y):(f=0,h=0);var i={x:f+e,y:h+t};(o||!p)&&(p=i),v.push(i),g=f+e,m=h+t}},b=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":g=e.x,m=e.y;break;case"H":g=e.x;break;case"V":m=e.y}x(g,m,e.pathSegType)}};for(e(t),r=t.getTotalLength(),l=[],o=0;o<t.pathSegList.numberOfItems;o+=1)l.push(t.pathSegList.getItem(o));for(c=l.concat();r>y;){if(d=t.getPathSegAtLength(y),a=l[d],a!=u){for(;c.length&&c[0]!=a;)b(c.shift());u=a}switch(a.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":s=t.getPointAtLength(y),x(s.x,s.y,0)}y+=n}for(o=0,i=c.length;i>o;++o)b(c[o]);return v};var e=function(e){for(var t,n,o,i,r,s,a=e.pathSegList,l=0,c=0,u=a.numberOfItems,p=0;u>p;++p){var d=a.getItem(p),f=d.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(f))"x"in d&&(l=d.x),"y"in d&&(c=d.y);else switch("x1"in d&&(o=l+d.x1),"x2"in d&&(r=l+d.x2),"y1"in d&&(i=c+d.y1),"y2"in d&&(s=c+d.y2),"x"in d&&(l+=d.x),"y"in d&&(c+=d.y),f){case"m":a.replaceItem(e.createSVGPathSegMovetoAbs(l,c),p);break;case"l":a.replaceItem(e.createSVGPathSegLinetoAbs(l,c),p);break;case"h":a.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),p);break;case"v":a.replaceItem(e.createSVGPathSegLinetoVerticalAbs(c),p);break;case"c":a.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,c,o,i,r,s),p);break;case"s":a.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,c,r,s),p);break;case"q":a.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,c,o,i),p);break;case"t":a.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),p);break;case"a":a.replaceItem(e.createSVGPathSegArcAbs(l,c,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),p);break;case"z":case"Z":l=t,c=n}("M"==f||"m"==f)&&(t=l,n=c)}}}()},{"../geometry/Bounds":24}],26:[function(e,t,n){var o={};t.exports=o,function(){o.create=function(e,t){return{x:e||0,y:t||0}},o.clone=function(e){return{x:e.x,y:e.y}},o.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},o.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},o.rotate=function(e,t){var n=Math.cos(t),o=Math.sin(t);return{x:e.x*n-e.y*o,y:e.x*o+e.y*n}},o.rotateAbout=function(e,t,n,o){var i=Math.cos(t),r=Math.sin(t);o||(o={});var s=n.x+((e.x-n.x)*i-(e.y-n.y)*r);return o.y=n.y+((e.x-n.x)*r+(e.y-n.y)*i),o.x=s,o},o.normalise=function(e){var t=o.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},o.dot=function(e,t){return e.x*t.x+e.y*t.y},o.cross=function(e,t){return e.x*t.y-e.y*t.x},o.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},o.add=function(e,t,n){return n||(n={}),n.x=e.x+t.x,n.y=e.y+t.y,n},o.sub=function(e,t,n){return n||(n={}),n.x=e.x-t.x,n.y=e.y-t.y,n},o.mult=function(e,t){return{x:e.x*t,y:e.y*t}},o.div=function(e,t){return{x:e.x/t,y:e.y/t}},o.perp=function(e,t){return t=t===!0?-1:1,{x:t*-e.y,y:t*e.x}},o.neg=function(e){return{x:-e.x,y:-e.y}},o.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},o._temp=[o.create(),o.create(),o.create(),o.create(),o.create(),o.create()]}()},{}],27:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vector"),r=e("../core/Common");!function(){o.create=function(e,t){for(var n=[],o=0;o<e.length;o++){var i=e[o],r={x:i.x,y:i.y,index:o,body:t,isInternal:!1};n.push(r)}return n},o.fromPath=function(e,t){var n=/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,i=[];return e.replace(n,function(e,t,n){i.push({x:parseFloat(t),y:parseFloat(n)})}),o.create(i,t)},o.centre=function(e){for(var t,n,r,s=o.area(e,!0),a={x:0,y:0},l=0;l<e.length;l++)r=(l+1)%e.length,t=i.cross(e[l],e[r]),n=i.mult(i.add(e[l],e[r]),t),a=i.add(a,n);return i.div(a,6*s)},o.mean=function(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return i.div(t,e.length)},o.area=function(e,t){for(var n=0,o=e.length-1,i=0;i<e.length;i++)n+=(e[o].x-e[i].x)*(e[o].y+e[i].y),o=i;return t?n/2:Math.abs(n)/2},o.inertia=function(e,t){for(var n,o,r=0,s=0,a=e,l=0;l<a.length;l++)o=(l+1)%a.length,n=Math.abs(i.cross(a[o],a[l])),r+=n*(i.dot(a[o],a[o])+i.dot(a[o],a[l])+i.dot(a[l],a[l])),s+=n;return t/6*(r/s)},o.translate=function(e,t,n){var o;if(n)for(o=0;o<e.length;o++)e[o].x+=t.x*n,e[o].y+=t.y*n;else for(o=0;o<e.length;o++)e[o].x+=t.x,e[o].y+=t.y;return e},o.rotate=function(e,t,n){if(0!==t){for(var o=Math.cos(t),i=Math.sin(t),r=0;r<e.length;r++){var s=e[r],a=s.x-n.x,l=s.y-n.y;s.x=n.x+(a*o-l*i),s.y=n.y+(a*i+l*o)}return e}},o.contains=function(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=e[(n+1)%e.length];if((t.x-o.x)*(i.y-o.y)+(t.y-o.y)*(o.x-i.x)>0)return!1}return!0},o.scale=function(e,t,n,r){if(1===t&&1===n)return e;r=r||o.centre(e);for(var s,a,l=0;l<e.length;l++)s=e[l],a=i.sub(s,r),e[l].x=r.x+a.x*t,e[l].y=r.y+a.y*n;return e},o.chamfer=function(e,t,n,o,s){t=t||[8],t.length||(t=[t]),n="undefined"!=typeof n?n:-1,o=o||2,s=s||14;for(var a=[],l=0;l<e.length;l++){var c=e[l-1>=0?l-1:e.length-1],u=e[l],p=e[(l+1)%e.length],d=t[l<t.length?l:t.length-1];if(0!==d){var f=i.normalise({x:u.y-c.y,y:c.x-u.x}),h=i.normalise({x:p.y-u.y,y:u.x-p.x}),v=Math.sqrt(2*Math.pow(d,2)),y=i.mult(r.clone(f),d),g=i.normalise(i.mult(i.add(f,h),.5)),m=i.sub(u,i.mult(g,v)),x=n;-1===n&&(x=1.75*Math.pow(d,.32)),x=r.clamp(x,o,s),x%2===1&&(x+=1);for(var b=Math.acos(i.dot(f,h)),w=b/x,S=0;x>S;S++)a.push(i.add(i.rotate(y,w*S),m))}else a.push(u)}return a},o.clockwiseSort=function(e){var t=o.mean(e);return e.sort(function(e,n){return i.angle(t,e)-i.angle(t,n)}),e},o.isConvex=function(e){var t,n,o,i,r=0,s=e.length;if(3>s)return null;for(t=0;s>t;t++)if(n=(t+1)%s,o=(t+2)%s,i=(e[n].x-e[t].x)*(e[o].y-e[n].y),i-=(e[n].y-e[t].y)*(e[o].x-e[n].x),0>i?r|=1:i>0&&(r|=2),3===r)return!1;return 0!==r?!0:null},o.hull=function(e){var t,n,o=[],r=[];for(e=e.slice(0),e.sort(function(e,t){var n=e.x-t.x;return 0!==n?n:e.y-t.y}),n=0;n<e.length;n++){for(t=e[n];r.length>=2&&i.cross3(r[r.length-2],r[r.length-1],t)<=0;)r.pop();r.push(t)}for(n=e.length-1;n>=0;n--){for(t=e[n];o.length>=2&&i.cross3(o[o.length-2],o[o.length-1],t)<=0;)o.pop();o.push(t)}return o.pop(),r.pop(),o.concat(r)}}()},{"../core/Common":14,"../geometry/Vector":26}],28:[function(e,t,n){var o=t.exports={};o.version="master",o.Body=e("../body/Body"),o.Composite=e("../body/Composite"),o.World=e("../body/World"),o.Contact=e("../collision/Contact"),o.Detector=e("../collision/Detector"),o.Grid=e("../collision/Grid"),o.Pairs=e("../collision/Pairs"),o.Pair=e("../collision/Pair"),o.Query=e("../collision/Query"),o.Resolver=e("../collision/Resolver"),o.SAT=e("../collision/SAT"),o.Constraint=e("../constraint/Constraint"),o.MouseConstraint=e("../constraint/MouseConstraint"),o.Common=e("../core/Common"),o.Engine=e("../core/Engine"),o.Events=e("../core/Events"),o.Mouse=e("../core/Mouse"),o.Runner=e("../core/Runner"),o.Sleeping=e("../core/Sleeping"),o.Bodies=e("../factory/Bodies"),o.Composites=e("../factory/Composites"),o.Axes=e("../geometry/Axes"),o.Bounds=e("../geometry/Bounds"),o.Svg=e("../geometry/Svg"),o.Vector=e("../geometry/Vector"),o.Vertices=e("../geometry/Vertices"),o.Render=e("../render/Render"),o.RenderPixi=e("../render/RenderPixi"),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,o.Engine.run=o.Runner.run},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Contact":4,"../collision/Detector":5,"../collision/Grid":6,"../collision/Pair":7,"../collision/Pairs":8,"../collision/Query":9,"../collision/Resolver":10,"../collision/SAT":11,"../constraint/Constraint":12,"../constraint/MouseConstraint":13,"../core/Common":14,"../core/Engine":15,"../core/Events":16,"../core/Metrics":17,"../core/Mouse":18,"../core/Runner":19,"../core/Sleeping":20,"../factory/Bodies":21,"../factory/Composites":22,"../geometry/Axes":23,"../geometry/Bounds":24,"../geometry/Svg":25,"../geometry/Vector":26,"../geometry/Vertices":27,"../render/Render":29,"../render/RenderPixi":30}],29:[function(e,t,n){var o={};t.exports=o;var i=e("../core/Common"),r=e("../body/Composite"),s=e("../geometry/Bounds"),a=e("../core/Events"),l=e("../collision/Grid"),c=e("../geometry/Vector");!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(i.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o.create=function(e){var t={controller:o,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#fafafa",wireframeBackground:"#222",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},r=i.extend(t,e);return r.canvas&&(r.canvas.width=r.options.width||r.canvas.width,r.canvas.height=r.options.height||r.canvas.height),r.mouse=e.mouse,r.engine=e.engine,r.canvas=r.canvas||n(r.options.width,r.options.height),r.context=r.canvas.getContext("2d"),r.textures={},r.bounds=r.bounds||{min:{x:0,y:0},max:{x:r.canvas.width,y:r.canvas.height}},1!==r.options.pixelRatio&&o.setPixelRatio(r,r.options.pixelRatio),i.isElement(r.element)?r.element.appendChild(r.canvas):i.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),r},o.run=function(t){!function n(i){t.frameRequestId=e(n),o.world(t)}()},o.stop=function(e){t(e.frameRequestId)},o.setPixelRatio=function(e,t){var n=e.options,o=e.canvas;"auto"===t&&(t=u(o)),n.pixelRatio=t,o.setAttribute("data-pixel-ratio",t),o.width=n.width*t,o.height=n.height*t,o.style.width=n.width+"px",o.style.height=n.height+"px",e.context.scale(t,t)},o.world=function(e){var t,n=e.engine,i=n.world,u=e.canvas,p=e.context,f=e.options,h=r.allBodies(i),v=r.allConstraints(i),y=f.wireframes?f.wireframeBackground:f.background,g=[],m=[],x={timestamp:n.timing.timestamp};if(a.trigger(e,"beforeRender",x),e.currentBackground!==y&&d(e,y),p.globalCompositeOperation="source-in",p.fillStyle="transparent",p.fillRect(0,0,u.width,u.height),p.globalCompositeOperation="source-over",f.hasBounds){var b=e.bounds.max.x-e.bounds.min.x,w=e.bounds.max.y-e.bounds.min.y,S=b/f.width,C=w/f.height;for(t=0;t<h.length;t++){var T=h[t];s.overlaps(T.bounds,e.bounds)&&g.push(T)}for(t=0;t<v.length;t++){var A=v[t],k=A.bodyA,P=A.bodyB,M=A.pointA,E=A.pointB;k&&(M=c.add(k.position,A.pointA)),P&&(E=c.add(P.position,A.pointB)),M&&E&&(s.contains(e.bounds,M)||s.contains(e.bounds,E))&&m.push(A)}p.scale(1/S,1/C),p.translate(-e.bounds.min.x,-e.bounds.min.y)}else m=v,g=h;!f.wireframes||n.enableSleeping&&f.showSleeping?o.bodies(e,g,p):(f.showConvexHulls&&o.bodyConvexHulls(e,g,p),o.bodyWireframes(e,g,p)),f.showBounds&&o.bodyBounds(e,g,p),(f.showAxes||f.showAngleIndicator)&&o.bodyAxes(e,g,p),f.showPositions&&o.bodyPositions(e,g,p),f.showVelocity&&o.bodyVelocity(e,g,p),f.showIds&&o.bodyIds(e,g,p),f.showSeparations&&o.separations(e,n.pairs.list,p),f.showCollisions&&o.collisions(e,n.pairs.list,p),f.showVertexNumbers&&o.vertexNumbers(e,g,p),f.showMousePosition&&o.mousePosition(e,e.mouse,p),o.constraints(m,p),f.showBroadphase&&n.broadphase.controller===l&&o.grid(e,n.broadphase,p),f.showDebug&&o.debug(e,p),f.hasBounds&&p.setTransform(f.pixelRatio,0,0,f.pixelRatio,0,0),a.trigger(e,"afterRender",x)},o.debug=function(e,t){var n=t,o=e.engine,i=o.world,s=o.metrics,a=e.options,l=(r.allBodies(i),"    ");if(o.timing.timestamp-(e.debugTimestamp||0)>=500){var c="";s.timing&&(c+="fps: "+Math.round(s.timing.fps)+l),e.debugString=c,e.debugTimestamp=o.timing.timestamp}if(e.debugString){n.font="12px Arial",a.wireframes?n.fillStyle="rgba(255,255,255,0.5)":n.fillStyle="rgba(0,0,0,0.5)";for(var u=e.debugString.split("\n"),p=0;p<u.length;p++)n.fillText(u[p],50,50+18*p)}},o.constraints=function(e,t){for(var n=t,o=0;o<e.length;o++){var i=e[o];if(i.render.visible&&i.pointA&&i.pointB){var r=i.bodyA,s=i.bodyB;r?(n.beginPath(),n.moveTo(r.position.x+i.pointA.x,r.position.y+i.pointA.y)):(n.beginPath(),n.moveTo(i.pointA.x,i.pointA.y)),s?n.lineTo(s.position.x+i.pointB.x,s.position.y+i.pointB.y):n.lineTo(i.pointB.x,i.pointB.y),n.lineWidth=i.render.lineWidth,n.strokeStyle=i.render.strokeStyle,n.stroke()}}},o.bodyShadows=function(e,t,n){for(var o=n,i=(e.engine,0);i<t.length;i++){var r=t[i];if(r.render.visible){if(r.circleRadius)o.beginPath(),o.arc(r.position.x,r.position.y,r.circleRadius,0,2*Math.PI),o.closePath();else{o.beginPath(),o.moveTo(r.vertices[0].x,r.vertices[0].y);for(var s=1;s<r.vertices.length;s++)o.lineTo(r.vertices[s].x,r.vertices[s].y);o.closePath()}var a=r.position.x-.5*e.options.width,l=r.position.y-.2*e.options.height,c=Math.abs(a)+Math.abs(l);o.shadowColor="rgba(0,0,0,0.15)",o.shadowOffsetX=.05*a,o.shadowOffsetY=.05*l,o.shadowBlur=1+12*Math.min(1,c/1e3),o.fill(),o.shadowColor=null,o.shadowOffsetX=null,o.shadowOffsetY=null,o.shadowBlur=null}}},o.bodies=function(e,t,n){var o,i,r,s,a=n,l=(e.engine,e.options),c=l.showInternalEdges||!l.wireframes;for(r=0;r<t.length;r++)if(o=t[r],o.render.visible)for(s=o.parts.length>1?1:0;s<o.parts.length;s++)if(i=o.parts[s],i.render.visible){if(l.showSleeping&&o.isSleeping?a.globalAlpha=.5*i.render.opacity:1!==i.render.opacity&&(a.globalAlpha=i.render.opacity),i.render.sprite&&i.render.sprite.texture&&!l.wireframes){var u=i.render.sprite,d=p(e,u.texture);a.translate(i.position.x,i.position.y),a.rotate(i.angle),a.drawImage(d,d.width*-u.xOffset*u.xScale,d.height*-u.yOffset*u.yScale,d.width*u.xScale,d.height*u.yScale),a.rotate(-i.angle),a.translate(-i.position.x,-i.position.y)}else{if(i.circleRadius)a.beginPath(),a.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI);else{a.beginPath(),a.moveTo(i.vertices[0].x,i.vertices[0].y);
for(var f=1;f<i.vertices.length;f++)!i.vertices[f-1].isInternal||c?a.lineTo(i.vertices[f].x,i.vertices[f].y):a.moveTo(i.vertices[f].x,i.vertices[f].y),i.vertices[f].isInternal&&!c&&a.moveTo(i.vertices[(f+1)%i.vertices.length].x,i.vertices[(f+1)%i.vertices.length].y);a.lineTo(i.vertices[0].x,i.vertices[0].y),a.closePath()}l.wireframes?(a.lineWidth=1,a.strokeStyle="#bbb"):(a.fillStyle=i.render.fillStyle,a.lineWidth=i.render.lineWidth,a.strokeStyle=i.render.strokeStyle,a.fill()),a.stroke()}a.globalAlpha=1}},o.bodyWireframes=function(e,t,n){var o,i,r,s,a,l=n,c=e.options.showInternalEdges;for(l.beginPath(),r=0;r<t.length;r++)if(o=t[r],o.render.visible)for(a=o.parts.length>1?1:0;a<o.parts.length;a++){for(i=o.parts[a],l.moveTo(i.vertices[0].x,i.vertices[0].y),s=1;s<i.vertices.length;s++)!i.vertices[s-1].isInternal||c?l.lineTo(i.vertices[s].x,i.vertices[s].y):l.moveTo(i.vertices[s].x,i.vertices[s].y),i.vertices[s].isInternal&&!c&&l.moveTo(i.vertices[(s+1)%i.vertices.length].x,i.vertices[(s+1)%i.vertices.length].y);l.lineTo(i.vertices[0].x,i.vertices[0].y)}l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()},o.bodyConvexHulls=function(e,t,n){var o,i,r,s=n;for(s.beginPath(),i=0;i<t.length;i++)if(o=t[i],o.render.visible&&1!==o.parts.length){for(s.moveTo(o.vertices[0].x,o.vertices[0].y),r=1;r<o.vertices.length;r++)s.lineTo(o.vertices[r].x,o.vertices[r].y);s.lineTo(o.vertices[0].x,o.vertices[0].y)}s.lineWidth=1,s.strokeStyle="rgba(255,255,255,0.2)",s.stroke()},o.vertexNumbers=function(e,t,n){var o,i,r,s=n;for(o=0;o<t.length;o++){var a=t[o].parts;for(r=a.length>1?1:0;r<a.length;r++){var l=a[r];for(i=0;i<l.vertices.length;i++)s.fillStyle="rgba(255,255,255,0.2)",s.fillText(o+"_"+i,l.position.x+.8*(l.vertices[i].x-l.position.x),l.position.y+.8*(l.vertices[i].y-l.position.y))}}},o.mousePosition=function(e,t,n){var o=n;o.fillStyle="rgba(255,255,255,0.8)",o.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},o.bodyBounds=function(e,t,n){var o=n,i=(e.engine,e.options);o.beginPath();for(var r=0;r<t.length;r++){var s=t[r];if(s.render.visible)for(var a=t[r].parts,l=a.length>1?1:0;l<a.length;l++){var c=a[l];o.rect(c.bounds.min.x,c.bounds.min.y,c.bounds.max.x-c.bounds.min.x,c.bounds.max.y-c.bounds.min.y)}}i.wireframes?o.strokeStyle="rgba(255,255,255,0.08)":o.strokeStyle="rgba(0,0,0,0.1)",o.lineWidth=1,o.stroke()},o.bodyAxes=function(e,t,n){var o,i,r,s,a=n,l=(e.engine,e.options);for(a.beginPath(),i=0;i<t.length;i++){var c=t[i],u=c.parts;if(c.render.visible)if(l.showAxes)for(r=u.length>1?1:0;r<u.length;r++)for(o=u[r],s=0;s<o.axes.length;s++){var p=o.axes[s];a.moveTo(o.position.x,o.position.y),a.lineTo(o.position.x+20*p.x,o.position.y+20*p.y)}else for(r=u.length>1?1:0;r<u.length;r++)for(o=u[r],s=0;s<o.axes.length;s++)a.moveTo(o.position.x,o.position.y),a.lineTo((o.vertices[0].x+o.vertices[o.vertices.length-1].x)/2,(o.vertices[0].y+o.vertices[o.vertices.length-1].y)/2)}l.wireframes?a.strokeStyle="indianred":(a.strokeStyle="rgba(0,0,0,0.8)",a.globalCompositeOperation="overlay"),a.lineWidth=1,a.stroke(),a.globalCompositeOperation="source-over"},o.bodyPositions=function(e,t,n){var o,i,r,s,a=n,l=(e.engine,e.options);for(a.beginPath(),r=0;r<t.length;r++)if(o=t[r],o.render.visible)for(s=0;s<o.parts.length;s++)i=o.parts[s],a.arc(i.position.x,i.position.y,3,0,2*Math.PI,!1),a.closePath();for(l.wireframes?a.fillStyle="indianred":a.fillStyle="rgba(0,0,0,0.5)",a.fill(),a.beginPath(),r=0;r<t.length;r++)o=t[r],o.render.visible&&(a.arc(o.positionPrev.x,o.positionPrev.y,2,0,2*Math.PI,!1),a.closePath());a.fillStyle="rgba(255,165,0,0.8)",a.fill()},o.bodyVelocity=function(e,t,n){var o=n;o.beginPath();for(var i=0;i<t.length;i++){var r=t[i];r.render.visible&&(o.moveTo(r.position.x,r.position.y),o.lineTo(r.position.x+2*(r.position.x-r.positionPrev.x),r.position.y+2*(r.position.y-r.positionPrev.y)))}o.lineWidth=3,o.strokeStyle="cornflowerblue",o.stroke()},o.bodyIds=function(e,t,n){var o,i,r=n;for(o=0;o<t.length;o++)if(t[o].render.visible){var s=t[o].parts;for(i=s.length>1?1:0;i<s.length;i++){var a=s[i];r.font="12px Arial",r.fillStyle="rgba(255,255,255,0.5)",r.fillText(a.id,a.position.x+10,a.position.y-10)}}},o.collisions=function(e,t,n){var o,i,r,s,a=n,l=e.options;for(a.beginPath(),r=0;r<t.length;r++)if(o=t[r],o.isActive)for(i=o.collision,s=0;s<o.activeContacts.length;s++){var c=o.activeContacts[s],u=c.vertex;a.rect(u.x-1.5,u.y-1.5,3.5,3.5)}for(l.wireframes?a.fillStyle="rgba(255,255,255,0.7)":a.fillStyle="orange",a.fill(),a.beginPath(),r=0;r<t.length;r++)if(o=t[r],o.isActive&&(i=o.collision,o.activeContacts.length>0)){var p=o.activeContacts[0].vertex.x,d=o.activeContacts[0].vertex.y;2===o.activeContacts.length&&(p=(o.activeContacts[0].vertex.x+o.activeContacts[1].vertex.x)/2,d=(o.activeContacts[0].vertex.y+o.activeContacts[1].vertex.y)/2),i.bodyB===i.supports[0].body||i.bodyA.isStatic===!0?a.moveTo(p-8*i.normal.x,d-8*i.normal.y):a.moveTo(p+8*i.normal.x,d+8*i.normal.y),a.lineTo(p,d)}l.wireframes?a.strokeStyle="rgba(255,165,0,0.7)":a.strokeStyle="orange",a.lineWidth=1,a.stroke()},o.separations=function(e,t,n){var o,i,r,s,a,l=n,c=e.options;for(l.beginPath(),a=0;a<t.length;a++)if(o=t[a],o.isActive){i=o.collision,r=i.bodyA,s=i.bodyB;var u=1;s.isStatic||r.isStatic||(u=.5),s.isStatic&&(u=0),l.moveTo(s.position.x,s.position.y),l.lineTo(s.position.x-i.penetration.x*u,s.position.y-i.penetration.y*u),u=1,s.isStatic||r.isStatic||(u=.5),r.isStatic&&(u=0),l.moveTo(r.position.x,r.position.y),l.lineTo(r.position.x+i.penetration.x*u,r.position.y+i.penetration.y*u)}c.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},o.grid=function(e,t,n){var o=n,r=e.options;r.wireframes?o.strokeStyle="rgba(255,180,0,0.1)":o.strokeStyle="rgba(255,180,0,0.5)",o.beginPath();for(var s=i.keys(t.buckets),a=0;a<s.length;a++){var l=s[a];if(!(t.buckets[l].length<2)){var c=l.split(",");o.rect(.5+parseInt(c[0],10)*t.bucketWidth,.5+parseInt(c[1],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}o.lineWidth=1,o.stroke()},o.inspector=function(e,t){var n,o=(e.engine,e.selected),i=e.render,r=i.options;if(r.hasBounds){var s=i.bounds.max.x-i.bounds.min.x,a=i.bounds.max.y-i.bounds.min.y,l=s/i.options.width,c=a/i.options.height;t.scale(1/l,1/c),t.translate(-i.bounds.min.x,-i.bounds.min.y)}for(var u=0;u<o.length;u++){var p=o[u].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),p.type){case"body":n=p.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var d=p.pointA;p.bodyA&&(d=p.pointB),t.beginPath(),t.arc(d.x,d.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),r.hasBounds&&t.setTransform(1,0,0,1,0,0)};var n=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},u=function(e){var t=e.getContext("2d"),n=window.devicePixelRatio||1,o=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return n/o},p=function(e,t){var n=e.textures[t];return n?n:(n=e.textures[t]=new Image,n.src=t,n)},d=function(e,t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},{"../body/Composite":2,"../collision/Grid":6,"../core/Common":14,"../core/Events":16,"../geometry/Bounds":24,"../geometry/Vector":26}],30:[function(e,t,n){var o={};t.exports=o;var i=e("../body/Composite"),r=e("../core/Common");!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(r.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o.create=function(e){r.log("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)","warn");var t={controller:o,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},n=r.extend(t,e),i=!n.options.wireframes&&"transparent"===n.options.background;return n.pixiOptions=n.pixiOptions||{view:n.canvas,transparent:i,antialias:!0,backgroundColor:e.background},n.mouse=e.mouse,n.engine=e.engine,n.renderer=n.renderer||new PIXI.WebGLRenderer(n.options.width,n.options.height,n.pixiOptions),n.container=n.container||new PIXI.Container,n.spriteContainer=n.spriteContainer||new PIXI.Container,n.canvas=n.canvas||n.renderer.view,n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.options.width,y:n.options.height}},n.textures={},n.sprites={},n.primitives={},n.container.addChild(n.spriteContainer),r.isElement(n.element)?n.element.appendChild(n.canvas):r.log('No "render.element" passed, "render.canvas" was not inserted into document.',"warn"),n.canvas.oncontextmenu=function(){return!1},n.canvas.onselectstart=function(){return!1},n},o.run=function(t){!function n(i){t.frameRequestId=e(n),o.world(t)}()},o.stop=function(e){t(e.frameRequestId)},o.clear=function(e){for(var t=e.container,n=e.spriteContainer;t.children[0];)t.removeChild(t.children[0]);for(;n.children[0];)n.removeChild(n.children[0]);var o=e.sprites["bg-0"];e.textures={},e.sprites={},e.primitives={},e.sprites["bg-0"]=o,o&&t.addChildAt(o,0),e.container.addChild(e.spriteContainer),e.currentBackground=null,t.scale.set(1,1),t.position.set(0,0)},o.setBackground=function(e,t){if(e.currentBackground!==t){var n=t.indexOf&&-1!==t.indexOf("#"),o=e.sprites["bg-0"];if(n){var i=r.colorToNumber(t);e.renderer.backgroundColor=i,o&&e.container.removeChild(o)}else if(!o){var s=a(e,t);o=e.sprites["bg-0"]=new PIXI.Sprite(s),o.position.x=0,o.position.y=0,e.container.addChildAt(o,0)}e.currentBackground=t}},o.world=function(e){var t,n=e.engine,r=n.world,s=e.renderer,a=e.container,l=e.options,c=i.allBodies(r),u=i.allConstraints(r),p=[];l.wireframes?o.setBackground(e,l.wireframeBackground):o.setBackground(e,l.background);var d=e.bounds.max.x-e.bounds.min.x,f=e.bounds.max.y-e.bounds.min.y,h=d/e.options.width,v=f/e.options.height;if(l.hasBounds){for(t=0;t<c.length;t++){var y=c[t];y.render.sprite.visible=Bounds.overlaps(y.bounds,e.bounds)}for(t=0;t<u.length;t++){var g=u[t],m=g.bodyA,x=g.bodyB,b=g.pointA,w=g.pointB;m&&(b=Vector.add(m.position,g.pointA)),x&&(w=Vector.add(x.position,g.pointB)),b&&w&&(Bounds.contains(e.bounds,b)||Bounds.contains(e.bounds,w))&&p.push(g)}a.scale.set(1/h,1/v),a.position.set(-e.bounds.min.x*(1/h),-e.bounds.min.y*(1/v))}else p=u;for(t=0;t<c.length;t++)o.body(e,c[t]);for(t=0;t<p.length;t++)o.constraint(e,p[t]);s.render(a)},o.constraint=function(e,t){var n=(e.engine,t.bodyA),o=t.bodyB,i=t.pointA,s=t.pointB,a=e.container,l=t.render,c="c-"+t.id,u=e.primitives[c];return u||(u=e.primitives[c]=new PIXI.Graphics),l.visible&&t.pointA&&t.pointB?(-1===r.indexOf(a.children,u)&&a.addChild(u),u.clear(),u.beginFill(0,0),u.lineStyle(l.lineWidth,r.colorToNumber(l.strokeStyle),1),n?u.moveTo(n.position.x+i.x,n.position.y+i.y):u.moveTo(i.x,i.y),o?u.lineTo(o.position.x+s.x,o.position.y+s.y):u.lineTo(s.x,s.y),void u.endFill()):void u.clear()},o.body=function(e,t){var o=(e.engine,t.render);if(o.visible)if(o.sprite&&o.sprite.texture){var i="b-"+t.id,a=e.sprites[i],l=e.spriteContainer;a||(a=e.sprites[i]=n(e,t)),-1===r.indexOf(l.children,a)&&l.addChild(a),a.position.x=t.position.x,a.position.y=t.position.y,a.rotation=t.angle,a.scale.x=o.sprite.xScale||1,a.scale.y=o.sprite.yScale||1}else{var c="b-"+t.id,u=e.primitives[c],p=e.container;u||(u=e.primitives[c]=s(e,t),u.initialAngle=t.angle),-1===r.indexOf(p.children,u)&&p.addChild(u),u.position.x=t.position.x,u.position.y=t.position.y,u.rotation=t.angle-u.initialAngle}};var n=function(e,t){var n=t.render,o=n.sprite.texture,i=a(e,o),r=new PIXI.Sprite(i);return r.anchor.x=t.render.sprite.xOffset,r.anchor.y=t.render.sprite.yOffset,r},s=function(e,t){var n,o=t.render,i=e.options,s=new PIXI.Graphics,a=r.colorToNumber(o.fillStyle),l=r.colorToNumber(o.strokeStyle),c=r.colorToNumber(o.strokeStyle),u=r.colorToNumber("#bbb"),p=r.colorToNumber("#CD5C5C");s.clear();for(var d=t.parts.length>1?1:0;d<t.parts.length;d++){n=t.parts[d],i.wireframes?(s.beginFill(0,0),s.lineStyle(1,u,1)):(s.beginFill(a,1),s.lineStyle(o.lineWidth,l,1)),s.moveTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y);for(var f=1;f<n.vertices.length;f++)s.lineTo(n.vertices[f].x-t.position.x,n.vertices[f].y-t.position.y);s.lineTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y),s.endFill(),(i.showAngleIndicator||i.showAxes)&&(s.beginFill(0,0),i.wireframes?s.lineStyle(1,p,1):s.lineStyle(1,c),s.moveTo(n.position.x-t.position.x,n.position.y-t.position.y),s.lineTo((n.vertices[0].x+n.vertices[n.vertices.length-1].x)/2-t.position.x,(n.vertices[0].y+n.vertices[n.vertices.length-1].y)/2-t.position.y),s.endFill())}return s},a=function(e,t){var n=e.textures[t];return n||(n=e.textures[t]=PIXI.Texture.fromImage(t)),n}}()},{"../body/Composite":2,"../core/Common":14}]},{},[28])(28)})},function(e,t,n){var o,i;/*!
	 * jQuery v2.1.3 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license
	 */
!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(r,s){function a(e){var t=e.length,n=ie.type(e);return"function"===n||ie.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function l(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,o){return!!t.call(e,o,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(de.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return Z.call(t,e)>=0!==n})}function c(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var t=xe[e]={};return ie.each(e.match(me)||[],function(e,n){t[n]=!0}),t}function p(){ne.removeEventListener("DOMContentLoaded",p,!1),r.removeEventListener("load",p,!1),ie.ready()}function d(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=ie.expando+d.uid++}function f(e,t,n){var o;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(Ae,"-$1").toLowerCase(),n=e.getAttribute(o),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Te.test(n)?ie.parseJSON(n):n}catch(i){}Ce.set(e,t,n)}else n=void 0;return n}function h(){return!0}function v(){return!1}function y(){try{return ne.activeElement}catch(e){}}function g(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function x(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function b(e,t){for(var n=0,o=e.length;o>n;n++)Se.set(e[n],"globalEval",!t||Se.get(t[n],"globalEval"))}function w(e,t){var n,o,i,r,s,a,l,c;if(1===t.nodeType){if(Se.hasData(e)&&(r=Se.access(e),s=Se.set(t,r),c=r.events)){delete s.handle,s.events={};for(i in c)for(n=0,o=c[i].length;o>n;n++)ie.event.add(t,i,c[i][n])}Ce.hasData(e)&&(a=Ce.access(e),l=ie.extend({},a),Ce.set(t,l))}}function S(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],n):n}function C(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ee.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function T(e,t){var n,o=ie(t.createElement(e)).appendTo(t.body),i=r.getDefaultComputedStyle&&(n=r.getDefaultComputedStyle(o[0]))?n.display:ie.css(o[0],"display");return o.detach(),i}function A(e){var t=ne,n=$e[e];return n||(n=T(e,t),"none"!==n&&n||(ze=(ze||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=ze[0].contentDocument,t.write(),t.close(),n=T(e,t),ze.detach()),$e[e]=n),n}function k(e,t,n){var o,i,r,s,a=e.style;return n=n||Ge(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||ie.contains(e.ownerDocument,e)||(s=ie.style(e,t)),Xe.test(s)&&Ue.test(t)&&(o=a.width,i=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=o,a.minWidth=i,a.maxWidth=r)),void 0!==s?s+"":s}function P(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function M(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),o=t,i=et.length;i--;)if(t=et[i]+n,t in e)return t;return o}function E(e,t,n){var o=Qe.exec(t);return o?Math.max(0,o[1]-(n||0))+(o[2]||"px"):t}function D(e,t,n,o,i){for(var r=n===(o?"border":"content")?4:"width"===t?1:0,s=0;4>r;r+=2)"margin"===n&&(s+=ie.css(e,n+Pe[r],!0,i)),o?("content"===n&&(s-=ie.css(e,"padding"+Pe[r],!0,i)),"margin"!==n&&(s-=ie.css(e,"border"+Pe[r]+"Width",!0,i))):(s+=ie.css(e,"padding"+Pe[r],!0,i),"padding"!==n&&(s+=ie.css(e,"border"+Pe[r]+"Width",!0,i)));return s}function B(e,t,n){var o=!0,i="width"===t?e.offsetWidth:e.offsetHeight,r=Ge(e),s="border-box"===ie.css(e,"boxSizing",!1,r);if(0>=i||null==i){if(i=k(e,t,r),(0>i||null==i)&&(i=e.style[t]),Xe.test(i))return i;o=s&&(te.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+D(e,t,n||(s?"border":"content"),o,r)+"px"}function L(e,t){for(var n,o,i,r=[],s=0,a=e.length;a>s;s++)o=e[s],o.style&&(r[s]=Se.get(o,"olddisplay"),n=o.style.display,t?(r[s]||"none"!==n||(o.style.display=""),""===o.style.display&&Me(o)&&(r[s]=Se.access(o,"olddisplay",A(o.nodeName)))):(i=Me(o),"none"===n&&i||Se.set(o,"olddisplay",i?n:ie.css(o,"display"))));for(s=0;a>s;s++)o=e[s],o.style&&(t&&"none"!==o.style.display&&""!==o.style.display||(o.style.display=t?r[s]||"":"none"));return e}function I(e,t,n,o,i){return new I.prototype.init(e,t,n,o,i)}function N(){return setTimeout(function(){tt=void 0}),tt=ie.now()}function R(e,t){var n,o=0,i={height:e};for(t=t?1:0;4>o;o+=2-t)n=Pe[o],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function O(e,t,n){for(var o,i=(at[t]||[]).concat(at["*"]),r=0,s=i.length;s>r;r++)if(o=i[r].call(n,t,e))return o}function F(e,t,n){var o,i,r,s,a,l,c,u,p=this,d={},f=e.style,h=e.nodeType&&Me(e),v=Se.get(e,"fxshow");n.queue||(a=ie._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,ie.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=ie.css(e,"display"),u="none"===c?Se.get(e,"olddisplay")||A(e.nodeName):c,"inline"===u&&"none"===ie.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(o in t)if(i=t[o],ot.exec(i)){if(delete t[o],r=r||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!v||void 0===v[o])continue;h=!0}d[o]=v&&v[o]||ie.style(e,o)}else c=void 0;if(ie.isEmptyObject(d))"inline"===("none"===c?A(e.nodeName):c)&&(f.display=c);else{v?"hidden"in v&&(h=v.hidden):v=Se.access(e,"fxshow",{}),r&&(v.hidden=!h),h?ie(e).show():p.done(function(){ie(e).hide()}),p.done(function(){var t;Se.remove(e,"fxshow");for(t in d)ie.style(e,t,d[t])});for(o in d)s=O(h?v[o]:0,o,p),o in v||(v[o]=s.start,h&&(s.end=s.start,s.start="width"===o||"height"===o?1:0))}}function j(e,t){var n,o,i,r,s;for(n in e)if(o=ie.camelCase(n),i=t[o],r=e[n],ie.isArray(r)&&(i=r[1],r=e[n]=r[0]),n!==o&&(e[o]=r,delete e[n]),s=ie.cssHooks[o],s&&"expand"in s){r=s.expand(r),delete e[o];for(n in r)n in e||(e[n]=r[n],t[n]=i)}else t[o]=i}function q(e,t,n){var o,i,r=0,s=st.length,a=ie.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=tt||N(),n=Math.max(0,c.startTime+c.duration-t),o=n/c.duration||0,r=1-o,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(r);return a.notifyWith(e,[c,r,n]),1>r&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:tt||N(),duration:n.duration,tweens:[],createTween:function(t,n){var o=ie.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(o),o},stop:function(t){var n=0,o=t?c.tweens.length:0;if(i)return this;for(i=!0;o>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(j(u,c.opts.specialEasing);s>r;r++)if(o=st[r].call(c,e,u,c.opts))return o;return ie.map(u,O,c),ie.isFunction(c.opts.start)&&c.opts.start.call(e,c),ie.fx.timer(ie.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function _(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var o,i=0,r=t.toLowerCase().match(me)||[];if(ie.isFunction(n))for(;o=r[i++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function V(e,t,n,o){function i(a){var l;return r[a]=!0,ie.each(e[a]||[],function(e,a){var c=a(t,n,o);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),l}var r={},s=e===Tt;return i(t.dataTypes[0])||!r["*"]&&i("*")}function H(e,t){var n,o,i=ie.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:o||(o={}))[n]=t[n]);return o&&ie.extend(!0,e,o),e}function W(e,t,n){for(var o,i,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(i in a)if(a[i]&&a[i].test(o)){l.unshift(i);break}if(l[0]in n)r=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){r=i;break}s||(s=i)}r=r||s}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function z(e,t,n,o){var i,r,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=c[l+" "+r]||c["* "+r],!s)for(i in c)if(a=i.split(" "),a[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[i]:c[i]!==!0&&(r=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(p){return{state:"parsererror",error:s?p:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function $(e,t,n,o){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Et.test(e)?o(e,i):$(e+"["+("object"==typeof i?t:"")+"]",i,n,o)});else if(n||"object"!==ie.type(t))o(e,t);else for(i in t)$(e+"["+i+"]",t[i],n,o)}function U(e){return ie.isWindow(e)?e:9===e.nodeType&&e.defaultView}var X=[],G=X.slice,Y=X.concat,Q=X.push,Z=X.indexOf,J={},K=J.toString,ee=J.hasOwnProperty,te={},ne=r.document,oe="2.1.3",ie=function(e,t){return new ie.fn.init(e,t)},re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,ae=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:oe,constructor:ie,selector:"",length:0,toArray:function(){return G.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:G.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:X.sort,splice:X.splice},ie.extend=ie.fn.extend=function(){var e,t,n,o,i,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ie.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],o=e[t],s!==o&&(c&&o&&(ie.isPlainObject(o)||(i=ie.isArray(o)))?(i?(i=!1,r=n&&ie.isArray(n)?n:[]):r=n&&ie.isPlainObject(n)?n:{},s[t]=ie.extend(c,r,o)):void 0!==o&&(s[t]=o));return s},ie.extend({expando:"jQuery"+(oe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==ie.type(e)||e.nodeType||ie.isWindow(e)?!1:e.constructor&&!ee.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[K.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=ie.trim(e),e&&(1===e.indexOf("use strict")?(t=ne.createElement("script"),t.text=e,ne.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(se,"ms-").replace(ae,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var o,i=0,r=e.length,s=a(e);if(n){if(s)for(;r>i&&(o=t.apply(e[i],n),o!==!1);i++);else for(i in e)if(o=t.apply(e[i],n),o===!1)break}else if(s)for(;r>i&&(o=t.call(e[i],i,e[i]),o!==!1);i++);else for(i in e)if(o=t.call(e[i],i,e[i]),o===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(re,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(a(Object(e))?ie.merge(n,"string"==typeof e?[e]:e):Q.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:Z.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,i=e.length;n>o;o++)e[i++]=t[o];return e.length=i,e},grep:function(e,t,n){for(var o,i=[],r=0,s=e.length,a=!n;s>r;r++)o=!t(e[r],r),o!==a&&i.push(e[r]);return i},map:function(e,t,n){var o,i=0,r=e.length,s=a(e),l=[];if(s)for(;r>i;i++)o=t(e[i],i,n),null!=o&&l.push(o);else for(i in e)o=t(e[i],i,n),null!=o&&l.push(o);return Y.apply([],l)},guid:1,proxy:function(e,t){var n,o,i;return"string"==typeof t&&(n=e[t],t=e,e=n),ie.isFunction(e)?(o=G.call(arguments,2),i=function(){return e.apply(t||this,o.concat(G.call(arguments)))},i.guid=e.guid=e.guid||ie.guid++,i):void 0},now:Date.now,support:te}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,n,o){var i,r,s,a,l,c,p,f,h,v;if((t?t.ownerDocument||t:_)!==L&&B(t),t=t||L,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!o&&N){if(11!==a&&(i=me.exec(e)))if(s=i[1]){if(9===a){if(r=t.getElementById(s),!r||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(s))&&j(t,r)&&r.id===s)return n.push(r),n}else{if(i[2])return J.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&w.getElementsByClassName)return J.apply(n,t.getElementsByClassName(s)),n}if(w.qsa&&(!R||!R.test(e))){if(f=p=q,h=t,v=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=A(e),(p=t.getAttribute("id"))?f=p.replace(be,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+d(c[l]);h=xe.test(e)&&u(t.parentNode)||t,v=c.join(",")}if(v)try{return J.apply(n,h.querySelectorAll(v)),n}catch(y){}finally{p||t.removeAttribute("id")}}}return P(e.replace(le,"$1"),t,n,o)}function n(){function e(n,o){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=o}var t=[];return e}function o(e){return e[q]=!0,e}function i(e){var t=L.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),o=e.length;o--;)S.attrHandle[n[o]]=t}function s(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return o(function(t){return t=+t,o(function(n,o){for(var i,r=e([],n.length,t),s=r.length;s--;)n[i=r[s]]&&(n[i]=!(o[i]=n[i]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function d(e){for(var t=0,n=e.length,o="";n>t;t++)o+=e[t].value;return o}function f(e,t,n){var o=t.dir,i=n&&"parentNode"===o,r=H++;return t.first?function(t,n,r){for(;t=t[o];)if(1===t.nodeType||i)return e(t,n,r)}:function(t,n,s){var a,l,c=[V,r];if(s){for(;t=t[o];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[o];)if(1===t.nodeType||i){if(l=t[q]||(t[q]={}),(a=l[o])&&a[0]===V&&a[1]===r)return c[2]=a[2];if(l[o]=c,c[2]=e(t,n,s))return!0}}}function h(e){return e.length>1?function(t,n,o){for(var i=e.length;i--;)if(!e[i](t,n,o))return!1;return!0}:e[0]}function v(e,n,o){for(var i=0,r=n.length;r>i;i++)t(e,n[i],o);return o}function y(e,t,n,o,i){for(var r,s=[],a=0,l=e.length,c=null!=t;l>a;a++)(r=e[a])&&(!n||n(r,o,i))&&(s.push(r),c&&t.push(a));return s}function g(e,t,n,i,r,s){return i&&!i[q]&&(i=g(i)),r&&!r[q]&&(r=g(r,s)),o(function(o,s,a,l){var c,u,p,d=[],f=[],h=s.length,g=o||v(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:y(g,d,e,a,l),x=n?r||(o?e:h||i)?[]:s:m;if(n&&n(m,x,a,l),i)for(c=y(x,f),i(c,[],a,l),u=c.length;u--;)(p=c[u])&&(x[f[u]]=!(m[f[u]]=p));if(o){if(r||e){if(r){for(c=[],u=x.length;u--;)(p=x[u])&&c.push(m[u]=p);r(null,x=[],c,l)}for(u=x.length;u--;)(p=x[u])&&(c=r?ee(o,p):d[u])>-1&&(o[c]=!(s[c]=p))}}else x=y(x===s?x.splice(h,x.length):x),r?r(null,s,x,l):J.apply(s,x)})}function m(e){for(var t,n,o,i=e.length,r=S.relative[e[0].type],s=r||S.relative[" "],a=r?1:0,l=f(function(e){return e===t},s,!0),c=f(function(e){return ee(t,e)>-1},s,!0),u=[function(e,n,o){var i=!r&&(o||n!==M)||((t=n).nodeType?l(e,n,o):c(e,n,o));return t=null,i}];i>a;a++)if(n=S.relative[e[a].type])u=[f(h(u),n)];else{if(n=S.filter[e[a].type].apply(null,e[a].matches),n[q]){for(o=++a;i>o&&!S.relative[e[o].type];o++);return g(a>1&&h(u),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(le,"$1"),n,o>a&&m(e.slice(a,o)),i>o&&m(e=e.slice(o)),i>o&&d(e))}u.push(n)}return h(u)}function x(e,n){var i=n.length>0,r=e.length>0,s=function(o,s,a,l,c){var u,p,d,f=0,h="0",v=o&&[],g=[],m=M,x=o||r&&S.find.TAG("*",c),b=V+=null==m?1:Math.random()||.1,w=x.length;for(c&&(M=s!==L&&s);h!==w&&null!=(u=x[h]);h++){if(r&&u){for(p=0;d=e[p++];)if(d(u,s,a)){l.push(u);break}c&&(V=b)}i&&((u=!d&&u)&&f--,o&&v.push(u))}if(f+=h,i&&h!==f){for(p=0;d=n[p++];)d(v,g,s,a);if(o){if(f>0)for(;h--;)v[h]||g[h]||(g[h]=Q.call(l));g=y(g)}J.apply(l,g),c&&!o&&g.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(V=b,M=m),v};return i?o(s):s}var b,w,S,C,T,A,k,P,M,E,D,B,L,I,N,R,O,F,j,q="sizzle"+1*new Date,_=e.document,V=0,H=0,W=n(),z=n(),$=n(),U=function(e,t){return e===t&&(D=!0),0},X=1<<31,G={}.hasOwnProperty,Y=[],Q=Y.pop,Z=Y.push,J=Y.push,K=Y.slice,ee=function(e,t){for(var n=0,o=e.length;o>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=oe.replace("w","w#"),re="\\["+ne+"*("+oe+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",se=":("+oe+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),pe=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(se),fe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ve=/^(?:input|select|textarea|button)$/i,ye=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xe=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Se=function(e,t,n){var o="0x"+t-65536;return o!==o||n?t:0>o?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)},Ce=function(){B()};try{J.apply(Y=K.call(_.childNodes),_.childNodes),Y[_.childNodes.length].nodeType}catch(Te){J={apply:Y.length?function(e,t){Z.apply(e,K.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}w=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},B=t.setDocument=function(e){var t,n,o=e?e.ownerDocument||e:_;return o!==L&&9===o.nodeType&&o.documentElement?(L=o,I=o.documentElement,n=o.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),N=!T(o),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(o.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(o.getElementsByClassName),w.getById=i(function(e){return I.appendChild(e).id=q,!o.getElementsByName||!o.getElementsByName(q).length}),w.getById?(S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&N){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(we,Se);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(we,Se);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,o=[],i=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[i++];)1===n.nodeType&&o.push(n);return o}return r},S.find.CLASS=w.getElementsByClassName&&function(e,t){return N?t.getElementsByClassName(e):void 0},O=[],R=[],(w.qsa=ge.test(o.querySelectorAll))&&(i(function(e){I.appendChild(e).innerHTML="<a id='"+q+"'></a><select id='"+q+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+q+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+q+"+*").length||R.push(".#.+[+~]")}),i(function(e){var t=o.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(w.matchesSelector=ge.test(F=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&i(function(e){w.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),O.push("!=",se)}),R=R.length&&new RegExp(R.join("|")),O=O.length&&new RegExp(O.join("|")),t=ge.test(I.compareDocumentPosition),j=t||ge.test(I.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===o||e.ownerDocument===_&&j(_,e)?-1:t===o||t.ownerDocument===_&&j(_,t)?1:E?ee(E,e)-ee(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,i=0,r=e.parentNode,a=t.parentNode,l=[e],c=[t];if(!r||!a)return e===o?-1:t===o?1:r?-1:a?1:E?ee(E,e)-ee(E,t):0;if(r===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[i]===c[i];)i++;return i?s(l[i],c[i]):l[i]===_?-1:c[i]===_?1:0},o):L},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==L&&B(e),n=n.replace(pe,"='$1']"),!(!w.matchesSelector||!N||O&&O.test(n)||R&&R.test(n)))try{var o=F.call(e,n);if(o||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(i){}return t(n,L,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==L&&B(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==L&&B(e);var n=S.attrHandle[t.toLowerCase()],o=n&&G.call(S.attrHandle,t.toLowerCase())?n(e,t,!N):void 0;return void 0!==o?o:w.attributes||!N?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],o=0,i=0;if(D=!w.detectDuplicates,E=!w.sortStable&&e.slice(0),e.sort(U),D){for(;t=e[i++];)t===e[i]&&(o=n.push(i));for(;o--;)e.splice(n[o],1)}return E=null,e},C=t.getText=function(e){var t,n="",o=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[o++];)n+=C(t);return n},S=t.selectors={cacheLength:50,createPseudo:o,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Se),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Se),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=A(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Se).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,o){return function(i){var r=t.attr(i,e);return null==r?"!="===n:n?(r+="","="===n?r===o:"!="===n?r!==o:"^="===n?o&&0===r.indexOf(o):"*="===n?o&&r.indexOf(o)>-1:"$="===n?o&&r.slice(-o.length)===o:"~="===n?(" "+r.replace(ae," ")+" ").indexOf(o)>-1:"|="===n?r===o||r.slice(0,o.length+1)===o+"-":!1):!0}},CHILD:function(e,t,n,o,i){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===o&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,p,d,f,h,v=r!==s?"nextSibling":"previousSibling",y=t.parentNode,g=a&&t.nodeName.toLowerCase(),m=!l&&!a;if(y){if(r){for(;v;){for(p=t;p=p[v];)if(a?p.nodeName.toLowerCase()===g:1===p.nodeType)return!1;h=v="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?y.firstChild:y.lastChild],s&&m){for(u=y[q]||(y[q]={}),c=u[e]||[],f=c[0]===V&&c[1],d=c[0]===V&&c[2],p=f&&y.childNodes[f];p=++f&&p&&p[v]||(d=f=0)||h.pop();)if(1===p.nodeType&&++d&&p===t){u[e]=[V,f,d];break}}else if(m&&(c=(t[q]||(t[q]={}))[e])&&c[0]===V)d=c[1];else for(;(p=++f&&p&&p[v]||(d=f=0)||h.pop())&&((a?p.nodeName.toLowerCase()!==g:1!==p.nodeType)||!++d||(m&&((p[q]||(p[q]={}))[e]=[V,d]),p!==t)););return d-=i,d===o||d%o===0&&d/o>=0}}},PSEUDO:function(e,n){var i,r=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[q]?r(n):r.length>1?(i=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,t){for(var o,i=r(e,n),s=i.length;s--;)o=ee(e,i[s]),e[o]=!(t[o]=i[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:o(function(e){var t=[],n=[],i=k(e.replace(le,"$1"));return i[q]?o(function(e,t,n,o){for(var r,s=i(e,null,o,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,o,r){return t[0]=e,i(t,null,r,n),t[0]=null,!n.pop()}}),has:o(function(e){return function(n){return t(e,n).length>0}}),contains:o(function(e){return e=e.replace(we,Se),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:o(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Se).toLowerCase(),function(t){var n;do if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return ye.test(e.nodeName)},input:function(e){return ve.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var o=0>n?n+t:n;--o>=0;)e.push(o);return e}),gt:c(function(e,t,n){for(var o=0>n?n+t:n;++o<t;)e.push(o);return e})}},S.pseudos.nth=S.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})S.pseudos[b]=l(b);return p.prototype=S.filters=S.pseudos,S.setFilters=new p,A=t.tokenize=function(e,n){var o,i,r,s,a,l,c,u=z[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=S.preFilter;a;){(!o||(i=ce.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),l.push(r=[])),o=!1,(i=ue.exec(a))&&(o=i.shift(),r.push({value:o,type:i[0].replace(le," ")}),a=a.slice(o.length));for(s in S.filter)!(i=he[s].exec(a))||c[s]&&!(i=c[s](i))||(o=i.shift(),r.push({value:o,type:s,matches:i}),a=a.slice(o.length));if(!o)break}return n?a.length:a?t.error(e):z(e,l).slice(0)},k=t.compile=function(e,t){var n,o=[],i=[],r=$[e+" "];if(!r){for(t||(t=A(e)),n=t.length;n--;)r=m(t[n]),r[q]?o.push(r):i.push(r);r=$(e,x(i,o)),r.selector=e}return r},P=t.select=function(e,t,n,o){var i,r,s,a,l,c="function"==typeof e&&e,p=!o&&A(e=c.selector||e);if(n=n||[],1===p.length){if(r=p[0]=p[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&w.getById&&9===t.nodeType&&N&&S.relative[r[1].type]){if(t=(S.find.ID(s.matches[0].replace(we,Se),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(i=he.needsContext.test(e)?0:r.length;i--&&(s=r[i],!S.relative[a=s.type]);)if((l=S.find[a])&&(o=l(s.matches[0].replace(we,Se),xe.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(i,1),e=o.length&&d(r),!e)return J.apply(n,o),n;break}}return(c||k(e,p))(o,t,!N,n,xe.test(e)&&u(t.parentNode)||t),n},w.sortStable=q.split("").sort(U).join("")===q,w.detectDuplicates=!!D,B(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(L.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||r(te,function(e,t,n){var o;return n?void 0:e[t]===!0?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null}),t}(r);ie.find=ce,ie.expr=ce.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=ce.uniqueSort,ie.text=ce.getText,ie.isXMLDoc=ce.isXML,ie.contains=ce.contains;var ue=ie.expr.match.needsContext,pe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,de=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?ie.find.matchesSelector(o,e)?[o]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType;
}))},ie.fn.extend({find:function(e){var t,n=this.length,o=[],i=this;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;n>t;t++)if(ie.contains(i[t],this))return!0}));for(t=0;n>t;t++)ie.find(e,i[t],o);return o=this.pushStack(n>1?ie.unique(o):o),o.selector=this.selector?this.selector+" "+e:e,o},filter:function(e){return this.pushStack(l(this,e||[],!1))},not:function(e){return this.pushStack(l(this,e||[],!0))},is:function(e){return!!l(this,"string"==typeof e&&ue.test(e)?ie(e):e||[],!1).length}});var fe,he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ve=ie.fn.init=function(e,t){var n,o;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:he.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||fe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),pe.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return o=ne.getElementById(n[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=ne,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?"undefined"!=typeof fe.ready?fe.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ve.prototype=ie.fn,fe=ie(ne);var ye=/^(?:parents|prev(?:Until|All))/,ge={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var o=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&ie(e).is(n))break;o.push(e)}return o},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t=ie(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(ie.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,o=0,i=this.length,r=[],s=ue.test(e)||"string"!=typeof e?ie(e,t||this.context):0;i>o;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?ie.unique(r):r)},index:function(e){return e?"string"==typeof e?Z.call(ie(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return e.contentDocument||ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,o){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(o=n),o&&"string"==typeof o&&(i=ie.filter(o,i)),this.length>1&&(ge[e]||ie.unique(i),ye.test(e)&&i.reverse()),this.pushStack(i)}});var me=/\S+/g,xe={};ie.Callbacks=function(e){e="string"==typeof e?xe[e]||u(e):ie.extend({},e);var t,n,o,i,r,s,a=[],l=!e.once&&[],c=function(u){for(t=e.memory&&u,n=!0,s=i||0,i=0,r=a.length,o=!0;a&&r>s;s++)if(a[s].apply(u[0],u[1])===!1&&e.stopOnFalse){t=!1;break}o=!1,a&&(l?l.length&&c(l.shift()):t?a=[]:p.disable())},p={add:function(){if(a){var n=a.length;!function s(t){ie.each(t,function(t,n){var o=ie.type(n);"function"===o?e.unique&&p.has(n)||a.push(n):n&&n.length&&"string"!==o&&s(n)})}(arguments),o?r=a.length:t&&(i=n,c(t))}return this},remove:function(){return a&&ie.each(arguments,function(e,t){for(var n;(n=ie.inArray(t,a,n))>-1;)a.splice(n,1),o&&(r>=n&&r--,s>=n&&s--)}),this},has:function(e){return e?ie.inArray(e,a)>-1:!(!a||!a.length)},empty:function(){return a=[],r=0,this},disable:function(){return a=l=t=void 0,this},disabled:function(){return!a},lock:function(){return l=void 0,t||p.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!a||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],o?l.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!n}};return p},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,r){var s=ie.isFunction(e[t])&&e[t];i[r[1]](function(){var e=s&&s.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===o?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,o):o}},i={};return o.pipe=o.then,ie.each(t,function(e,r){var s=r[2],a=r[3];o[r[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[r[0]]=function(){return i[r[0]+"With"](this===i?o:this,arguments),this},i[r[0]+"With"]=s.fireWith}),o.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,o,i=0,r=G.call(arguments),s=r.length,a=1!==s||e&&ie.isFunction(e.promise)?s:0,l=1===a?e:ie.Deferred(),c=function(e,n,o){return function(i){n[e]=this,o[e]=arguments.length>1?G.call(arguments):i,o===t?l.notifyWith(n,o):--a||l.resolveWith(n,o)}};if(s>1)for(t=new Array(s),n=new Array(s),o=new Array(s);s>i;i++)r[i]&&ie.isFunction(r[i].promise)?r[i].promise().done(c(i,o,r)).fail(l.reject).progress(c(i,n,t)):--a;return a||l.resolveWith(o,r),l.promise()}});var be;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){(e===!0?--ie.readyWait:ie.isReady)||(ie.isReady=!0,e!==!0&&--ie.readyWait>0||(be.resolveWith(ne,[ie]),ie.fn.triggerHandler&&(ie(ne).triggerHandler("ready"),ie(ne).off("ready"))))}}),ie.ready.promise=function(e){return be||(be=ie.Deferred(),"complete"===ne.readyState?setTimeout(ie.ready):(ne.addEventListener("DOMContentLoaded",p,!1),r.addEventListener("load",p,!1))),be.promise(e)},ie.ready.promise();var we=ie.access=function(e,t,n,o,i,r,s){var a=0,l=e.length,c=null==n;if("object"===ie.type(n)){i=!0;for(a in n)ie.access(e,t,a,n[a],!0,r,s)}else if(void 0!==o&&(i=!0,ie.isFunction(o)||(s=!0),c&&(s?(t.call(e,o),t=null):(c=t,t=function(e,t,n){return c.call(ie(e),n)})),t))for(;l>a;a++)t(e[a],n,s?o:o.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):r};ie.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},d.uid=1,d.accepts=ie.acceptData,d.prototype={key:function(e){if(!d.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=d.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(o){t[this.expando]=n,ie.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var o,i=this.key(e),r=this.cache[i];if("string"==typeof t)r[t]=n;else if(ie.isEmptyObject(r))ie.extend(this.cache[i],t);else for(o in t)r[o]=t[o];return r},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var o;return void 0===t||t&&"string"==typeof t&&void 0===n?(o=this.get(e,t),void 0!==o?o:this.get(e,ie.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o,i,r=this.key(e),s=this.cache[r];if(void 0===t)this.cache[r]={};else{ie.isArray(t)?o=t.concat(t.map(ie.camelCase)):(i=ie.camelCase(t),t in s?o=[t,i]:(o=i,o=o in s?[o]:o.match(me)||[])),n=o.length;for(;n--;)delete s[o[n]]}},hasData:function(e){return!ie.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var Se=new d,Ce=new d,Te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ae=/([A-Z])/g;ie.extend({hasData:function(e){return Ce.hasData(e)||Se.hasData(e)},data:function(e,t,n){return Ce.access(e,t,n)},removeData:function(e,t){Ce.remove(e,t)},_data:function(e,t,n){return Se.access(e,t,n)},_removeData:function(e,t){Se.remove(e,t)}}),ie.fn.extend({data:function(e,t){var n,o,i,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(i=Ce.get(r),1===r.nodeType&&!Se.get(r,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(o=s[n].name,0===o.indexOf("data-")&&(o=ie.camelCase(o.slice(5)),f(r,o,i[o])));Se.set(r,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Ce.set(this,e)}):we(this,function(t){var n,o=ie.camelCase(e);if(r&&void 0===t){if(n=Ce.get(r,e),void 0!==n)return n;if(n=Ce.get(r,o),void 0!==n)return n;if(n=f(r,o,void 0),void 0!==n)return n}else this.each(function(){var n=Ce.get(this,o);Ce.set(this,o,t),-1!==e.indexOf("-")&&void 0!==n&&Ce.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ce.remove(this,e)})}}),ie.extend({queue:function(e,t,n){var o;return e?(t=(t||"fx")+"queue",o=Se.get(e,t),n&&(!o||ie.isArray(n)?o=Se.access(e,t,ie.makeArray(n)):o.push(n)),o||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),o=n.length,i=n.shift(),r=ie._queueHooks(e,t),s=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),o--),i&&("fx"===t&&n.unshift("inprogress"),delete r.stop,i.call(e,s,r)),!o&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Se.get(e,n)||Se.access(e,n,{empty:ie.Callbacks("once memory").add(function(){Se.remove(e,[t+"queue",n])})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,i=ie.Deferred(),r=this,s=this.length,a=function(){--o||i.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=Se.get(r[s],e+"queueHooks"),n&&n.empty&&(o++,n.empty.add(a));return a(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pe=["Top","Right","Bottom","Left"],Me=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},Ee=/^(?:checkbox|radio)$/i;!function(){var e=ne.createDocumentFragment(),t=e.appendChild(ne.createElement("div")),n=ne.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),te.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",te.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var De="undefined";te.focusinBubbles="onfocusin"in r;var Be=/^key/,Le=/^(?:mouse|pointer|contextmenu)|click/,Ie=/^(?:focusinfocus|focusoutblur)$/,Ne=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,o,i){var r,s,a,l,c,u,p,d,f,h,v,y=Se.get(e);if(y)for(n.handler&&(r=n,n=r.handler,i=r.selector),n.guid||(n.guid=ie.guid++),(l=y.events)||(l=y.events={}),(s=y.handle)||(s=y.handle=function(t){return typeof ie!==De&&ie.event.triggered!==t.type?ie.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(me)||[""],c=t.length;c--;)a=Ne.exec(t[c])||[],f=v=a[1],h=(a[2]||"").split(".").sort(),f&&(p=ie.event.special[f]||{},f=(i?p.delegateType:p.bindType)||f,p=ie.event.special[f]||{},u=ie.extend({type:f,origType:v,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:h.join(".")},r),(d=l[f])||(d=l[f]=[],d.delegateCount=0,p.setup&&p.setup.call(e,o,h,s)!==!1||e.addEventListener&&e.addEventListener(f,s,!1)),p.add&&(p.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),ie.event.global[f]=!0)},remove:function(e,t,n,o,i){var r,s,a,l,c,u,p,d,f,h,v,y=Se.hasData(e)&&Se.get(e);if(y&&(l=y.events)){for(t=(t||"").match(me)||[""],c=t.length;c--;)if(a=Ne.exec(t[c])||[],f=v=a[1],h=(a[2]||"").split(".").sort(),f){for(p=ie.event.special[f]||{},f=(o?p.delegateType:p.bindType)||f,d=l[f]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=d.length;r--;)u=d[r],!i&&v!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||o&&o!==u.selector&&("**"!==o||!u.selector)||(d.splice(r,1),u.selector&&d.delegateCount--,p.remove&&p.remove.call(e,u));s&&!d.length&&(p.teardown&&p.teardown.call(e,h,y.handle)!==!1||ie.removeEvent(e,f,y.handle),delete l[f])}else for(f in l)ie.event.remove(e,f+t[c],n,o,!0);ie.isEmptyObject(l)&&(delete y.handle,Se.remove(e,"events"))}},trigger:function(e,t,n,o){var i,s,a,l,c,u,p,d=[n||ne],f=ee.call(e,"type")?e.type:e,h=ee.call(e,"namespace")?e.namespace.split("."):[];if(s=a=n=n||ne,3!==n.nodeType&&8!==n.nodeType&&!Ie.test(f+ie.event.triggered)&&(f.indexOf(".")>=0&&(h=f.split("."),f=h.shift(),h.sort()),c=f.indexOf(":")<0&&"on"+f,e=e[ie.expando]?e:new ie.Event(f,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=h.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:ie.makeArray(t,[e]),p=ie.event.special[f]||{},o||!p.trigger||p.trigger.apply(n,t)!==!1)){if(!o&&!p.noBubble&&!ie.isWindow(n)){for(l=p.delegateType||f,Ie.test(l+f)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(n.ownerDocument||ne)&&d.push(a.defaultView||a.parentWindow||r)}for(i=0;(s=d[i++])&&!e.isPropagationStopped();)e.type=i>1?l:p.bindType||f,u=(Se.get(s,"events")||{})[e.type]&&Se.get(s,"handle"),u&&u.apply(s,t),u=c&&s[c],u&&u.apply&&ie.acceptData(s)&&(e.result=u.apply(s,t),e.result===!1&&e.preventDefault());return e.type=f,o||e.isDefaultPrevented()||p._default&&p._default.apply(d.pop(),t)!==!1||!ie.acceptData(n)||c&&ie.isFunction(n[f])&&!ie.isWindow(n)&&(a=n[c],a&&(n[c]=null),ie.event.triggered=f,n[f](),ie.event.triggered=void 0,a&&(n[c]=a)),e.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,o,i,r,s=[],a=G.call(arguments),l=(Se.get(this,"events")||{})[e.type]||[],c=ie.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=ie.event.handlers.call(this,e,l),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,o=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,a),void 0!==o&&(e.result=o)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,o,i,r,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(o=[],n=0;a>n;n++)r=t[n],i=r.selector+" ",void 0===o[i]&&(o[i]=r.needsContext?ie(i,this).index(l)>=0:ie.find(i,this,null,[l]).length),o[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,o,i,r=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||ne,o=n.documentElement,i=n.body,e.pageX=t.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[ie.expando])return e;var t,n,o,i=e.type,r=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Le.test(i)?this.mouseHooks:Be.test(i)?this.keyHooks:{}),o=s.props?this.props.concat(s.props):this.props,e=new ie.Event(r),t=o.length;t--;)n=o[t],e[n]=r[n];return e.target||(e.target=ne),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==y()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===y()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ie.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,o){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});o?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:v):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,o=this,i=e.relatedTarget,r=e.handleObj;return(!i||i!==o&&!ie.contains(o,i))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),te.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var o=this.ownerDocument||this,i=Se.access(o,t);i||o.addEventListener(e,n,!0),Se.access(o,t,(i||0)+1)},teardown:function(){var o=this.ownerDocument||this,i=Se.access(o,t)-1;i?Se.access(o,t,i):(o.removeEventListener(e,n,!0),Se.remove(o,t))}}}),ie.fn.extend({on:function(e,t,n,o,i){var r,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==o?(o=t,n=t=void 0):null==o&&("string"==typeof t?(o=n,n=void 0):(o=n,n=t,t=void 0)),o===!1)o=v;else if(!o)return this;return 1===i&&(r=o,o=function(e){return ie().off(e),r.apply(this,arguments)},o.guid=r.guid||(r.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,o,n,t)})},one:function(e,t,n,o){return this.on(e,t,n,o,1)},off:function(e,t,n){var o,i;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,ie(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=v),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ie.event.trigger(e,t,n,!0):void 0}});var Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Oe=/<([\w:]+)/,Fe=/<|&#?\w+;/,je=/<(?:script|style|link)/i,qe=/checked\s*(?:[^=]|=\s*.checked.)/i,_e=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,We={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};We.optgroup=We.option,We.tbody=We.tfoot=We.colgroup=We.caption=We.thead,We.th=We.td,ie.extend({clone:function(e,t,n){var o,i,r,s,a=e.cloneNode(!0),l=ie.contains(e.ownerDocument,e);if(!(te.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(s=S(a),r=S(e),o=0,i=r.length;i>o;o++)C(r[o],s[o]);if(t)if(n)for(r=r||S(e),s=s||S(a),o=0,i=r.length;i>o;o++)w(r[o],s[o]);else w(e,a);return s=S(a,"script"),s.length>0&&b(s,!l&&S(e,"script")),a},buildFragment:function(e,t,n,o){for(var i,r,s,a,l,c,u=t.createDocumentFragment(),p=[],d=0,f=e.length;f>d;d++)if(i=e[d],i||0===i)if("object"===ie.type(i))ie.merge(p,i.nodeType?[i]:i);else if(Fe.test(i)){for(r=r||u.appendChild(t.createElement("div")),s=(Oe.exec(i)||["",""])[1].toLowerCase(),a=We[s]||We._default,r.innerHTML=a[1]+i.replace(Re,"<$1></$2>")+a[2],c=a[0];c--;)r=r.lastChild;ie.merge(p,r.childNodes),r=u.firstChild,r.textContent=""}else p.push(t.createTextNode(i));for(u.textContent="",d=0;i=p[d++];)if((!o||-1===ie.inArray(i,o))&&(l=ie.contains(i.ownerDocument,i),r=S(u.appendChild(i),"script"),l&&b(r),n))for(c=0;i=r[c++];)_e.test(i.type||"")&&n.push(i);return u},cleanData:function(e){for(var t,n,o,i,r=ie.event.special,s=0;void 0!==(n=e[s]);s++){if(ie.acceptData(n)&&(i=n[Se.expando],i&&(t=Se.cache[i]))){if(t.events)for(o in t.events)r[o]?ie.event.remove(n,o):ie.removeEvent(n,o,t.handle);Se.cache[i]&&delete Se.cache[i]}delete Ce.cache[n[Ce.expando]]}}}),ie.fn.extend({text:function(e){return we(this,function(e){return void 0===e?ie.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,o=e?ie.filter(e,this):this,i=0;null!=(n=o[i]);i++)t||1!==n.nodeType||ie.cleanData(S(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&b(S(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ie.cleanData(S(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return we(this,function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!je.test(e)&&!We[(Oe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Re,"<$1></$2>");try{for(;o>n;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(S(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(S(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Y.apply([],e);var n,o,i,r,s,a,l=0,c=this.length,u=this,p=c-1,d=e[0],f=ie.isFunction(d);if(f||c>1&&"string"==typeof d&&!te.checkClone&&qe.test(d))return this.each(function(n){var o=u.eq(n);f&&(e[0]=d.call(this,n,o.html())),o.domManip(e,t)});if(c&&(n=ie.buildFragment(e,this[0].ownerDocument,!1,this),o=n.firstChild,1===n.childNodes.length&&(n=o),o)){for(i=ie.map(S(n,"script"),m),r=i.length;c>l;l++)s=n,l!==p&&(s=ie.clone(s,!0,!0),r&&ie.merge(i,S(s,"script"))),t.call(this[l],s,l);if(r)for(a=i[i.length-1].ownerDocument,ie.map(i,x),l=0;r>l;l++)s=i[l],_e.test(s.type||"")&&!Se.access(s,"globalEval")&&ie.contains(a,s)&&(s.src?ie._evalUrl&&ie._evalUrl(s.src):ie.globalEval(s.textContent.replace(He,"")))}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,o=[],i=ie(e),r=i.length-1,s=0;r>=s;s++)n=s===r?this:this.clone(!0),ie(i[s])[t](n),Q.apply(o,n.get());return this.pushStack(o)}});var ze,$e={},Ue=/^margin/,Xe=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),Ge=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):r.getComputedStyle(e,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",o.appendChild(i);var e=r.getComputedStyle(s,null);t="1%"!==e.top,n="4px"===e.width,o.removeChild(i)}var t,n,o=ne.documentElement,i=ne.createElement("div"),s=ne.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",te.clearCloneStyle="content-box"===s.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(s),r.getComputedStyle&&ie.extend(te,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,t=s.appendChild(ne.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",o.appendChild(i),e=!parseFloat(r.getComputedStyle(t,null).marginRight),o.removeChild(i),s.removeChild(t),e}}))}(),ie.swap=function(e,t,n,o){var i,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];i=n.apply(e,o||[]);for(r in t)e.style[r]=s[r];return i};var Ye=/^(none|table(?!-c[ea]).+)/,Qe=new RegExp("^("+ke+")(.*)$","i"),Ze=new RegExp("^([+-])=("+ke+")","i"),Je={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"},et=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=k(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,r,s,a=ie.camelCase(t),l=e.style;return t=ie.cssProps[a]||(ie.cssProps[a]=M(l,a)),s=ie.cssHooks[t]||ie.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(e,!1,o))?i:l[t]:(r=typeof n,"string"===r&&(i=Ze.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),r="number"),void(null!=n&&n===n&&("number"!==r||ie.cssNumber[a]||(n+="px"),te.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,o))||(l[t]=n))))}},css:function(e,t,n,o){var i,r,s,a=ie.camelCase(t);return t=ie.cssProps[a]||(ie.cssProps[a]=M(e.style,a)),s=ie.cssHooks[t]||ie.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=k(e,t,o)),"normal"===i&&t in Ke&&(i=Ke[t]),""===n||n?(r=parseFloat(i),n===!0||ie.isNumeric(r)?r||0:i):i}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,o){return n?Ye.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,Je,function(){return B(e,t,o)}):B(e,t,o):void 0},set:function(e,n,o){var i=o&&Ge(e);return E(e,n,o?D(e,t,o,"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ie.cssHooks.marginRight=P(te.reliableMarginRight,function(e,t){return t?ie.swap(e,{display:"inline-block"},k,[e,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var o=0,i={},r="string"==typeof n?n.split(" "):[n];4>o;o++)i[e+Pe[o]+t]=r[o]||r[o-2]||r[0];return i}},Ue.test(e)||(ie.cssHooks[e+t].set=E)}),ie.fn.extend({css:function(e,t){return we(this,function(e,t,n){var o,i,r={},s=0;if(ie.isArray(t)){for(o=Ge(e),i=t.length;i>s;s++)r[t[s]]=ie.css(e,t[s],!1,o);return r}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Me(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=I,I.prototype={constructor:I,init:function(e,t,n,o,i,r){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=r||(ie.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.pos=t=this.options.duration?ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=I.prototype.init,ie.fx.step={};var tt,nt,ot=/^(?:toggle|show|hide)$/,it=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),rt=/queueHooks$/,st=[F],at={"*":[function(e,t){var n=this.createTween(e,t),o=n.cur(),i=it.exec(t),r=i&&i[3]||(ie.cssNumber[e]?"":"px"),s=(ie.cssNumber[e]||"px"!==r&&+o)&&it.exec(ie.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==r){r=r||s[3],i=i||[],s=+o||1;do a=a||".5",s/=a,ie.style(n.elem,e,s+r);while(a!==(a=n.cur()/o)&&1!==a&&--l)}return i&&(s=n.start=+s||+o||0,n.unit=r,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(q,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,o=0,i=e.length;i>o;o++)n=e[o],at[n]=at[n]||[],at[n].unshift(t)},prefilter:function(e,t){t?st.unshift(e):st.push(e)}}),ie.speed=function(e,t,n){var o=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return o.duration=ie.fx.off?0:"number"==typeof o.duration?o.duration:o.duration in ie.fx.speeds?ie.fx.speeds[o.duration]:ie.fx.speeds._default,(null==o.queue||o.queue===!0)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){ie.isFunction(o.old)&&o.old.call(this),o.queue&&ie.dequeue(this,o.queue)},o},ie.fn.extend({fadeTo:function(e,t,n,o){return this.filter(Me).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var i=ie.isEmptyObject(e),r=ie.speed(t,n,o),s=function(){var t=q(this,ie.extend({},e),r);(i||Se.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",r=ie.timers,s=Se.get(this);if(i)s[i]&&s[i].stop&&o(s[i]);else for(i in s)s[i]&&s[i].stop&&rt.test(i)&&o(s[i]);
for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(r[i].anim.stop(n),t=!1,r.splice(i,1));(t||!n)&&ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Se.get(this),o=n[e+"queue"],i=n[e+"queueHooks"],r=ie.timers,s=o?o.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;s>t;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,o,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(R(t,!0),e,o,i)}}),ie.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}}),ie.timers=[],ie.fx.tick=function(){var e,t=0,n=ie.timers;for(tt=ie.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||ie.fx.stop(),tt=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){nt||(nt=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(nt),nt=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var o=setTimeout(t,e);n.stop=function(){clearTimeout(o)}})},function(){var e=ne.createElement("input"),t=ne.createElement("select"),n=t.appendChild(ne.createElement("option"));e.type="checkbox",te.checkOn=""!==e.value,te.optSelected=n.selected,t.disabled=!0,te.optDisabled=!n.disabled,e=ne.createElement("input"),e.value="t",e.type="radio",te.radioValue="t"===e.value}();var lt,ct,ut=ie.expr.attrHandle;ie.fn.extend({attr:function(e,t){return we(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var o,i,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?typeof e.getAttribute===De?ie.prop(e,t,n):(1===r&&ie.isXMLDoc(e)||(t=t.toLowerCase(),o=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?ct:lt)),void 0===n?o&&"get"in o&&null!==(i=o.get(e,t))?i:(i=ie.find.attr(e,t),null==i?void 0:i):null!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,o,i=0,r=t&&t.match(me);if(r&&1===e.nodeType)for(;n=r[i++];)o=ie.propFix[n]||n,ie.expr.match.bool.test(n)&&(e[o]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!te.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),ct={set:function(e,t,n){return t===!1?ie.removeAttr(e,n):e.setAttribute(n,n),n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ut[t]||ie.find.attr;ut[t]=function(e,t,o){var i,r;return o||(r=ut[t],ut[t]=i,i=null!=n(e,t,o)?t.toLowerCase():null,ut[t]=r),i}});var pt=/^(?:input|select|textarea|button)$/i;ie.fn.extend({prop:function(e,t){return we(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ie.propFix[e]||e]})}}),ie.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var o,i,r,s=e.nodeType;return e&&3!==s&&8!==s&&2!==s?(r=1!==s||!ie.isXMLDoc(e),r&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:e[t]=n:i&&"get"in i&&null!==(o=i.get(e,t))?o:e[t]):void 0},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||pt.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),te.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this});var dt=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,o,i,r,s,a="string"==typeof e&&e,l=0,c=this.length;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(me)||[];c>l;l++)if(n=this[l],o=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(dt," "):" ")){for(r=0;i=t[r++];)o.indexOf(" "+i+" ")<0&&(o+=i+" ");s=ie.trim(o),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,o,i,r,s,a=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(me)||[];c>l;l++)if(n=this[l],o=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(dt," "):"")){for(r=0;i=t[r++];)for(;o.indexOf(" "+i+" ")>=0;)o=o.replace(" "+i+" "," ");s=e?ie.trim(o):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ie.isFunction(e)?function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,o=0,i=ie(this),r=e.match(me)||[];t=r[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===De||"boolean"===n)&&(this.className&&Se.set(this,"__className__",this.className),this.className=this.className||e===!1?"":Se.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,o=this.length;o>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(dt," ").indexOf(t)>=0)return!0;return!1}});var ft=/\r/g;ie.fn.extend({val:function(e){var t,n,o,i=this[0];return arguments.length?(o=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=o?e.call(this,n,ie(this).val()):e,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ft,""):null==n?"":n)):void 0}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,o=e.options,i=e.selectedIndex,r="select-one"===e.type||0>i,s=r?null:[],a=r?i+1:o.length,l=0>i?a:r?i:0;a>l;l++)if(n=o[l],!(!n.selected&&l!==i||(te.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var n,o,i=e.options,r=ie.makeArray(t),s=i.length;s--;)o=i[s],(o.selected=ie.inArray(o.value,r)>=0)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){return ie.isArray(t)?e.checked=ie.inArray(ie(e).val(),t)>=0:void 0}},te.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ht=ie.now(),vt=/\?/;ie.parseJSON=function(e){return JSON.parse(e+"")},ie.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(o){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&ie.error("Invalid XML: "+e),t};var yt=/#.*$/,gt=/([?&])_=[^&]*/,mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,xt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,bt=/^(?:GET|HEAD)$/,wt=/^\/\//,St=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ct={},Tt={},At="*/".concat("*"),kt=r.location.href,Pt=St.exec(kt.toLowerCase())||[];ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kt,type:"GET",isLocal:xt.test(Pt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":At,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?H(H(e,ie.ajaxSettings),t):H(ie.ajaxSettings,e)},ajaxPrefilter:_(Ct),ajaxTransport:_(Tt),ajax:function(e,t){function n(e,t,n,s){var l,u,g,m,b,S=t;2!==x&&(x=2,a&&clearTimeout(a),o=void 0,r=s||"",w.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(m=W(p,w,n)),m=z(p,m,w,l),l?(p.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(ie.lastModified[i]=b),b=w.getResponseHeader("etag"),b&&(ie.etag[i]=b)),204===e||"HEAD"===p.type?S="nocontent":304===e?S="notmodified":(S=m.state,u=m.data,g=m.error,l=!g)):(g=S,(e||!S)&&(S="error",0>e&&(e=0))),w.status=e,w.statusText=(t||S)+"",l?h.resolveWith(d,[u,S,w]):h.rejectWith(d,[w,S,g]),w.statusCode(y),y=void 0,c&&f.trigger(l?"ajaxSuccess":"ajaxError",[w,p,l?u:g]),v.fireWith(d,[w,S]),c&&(f.trigger("ajaxComplete",[w,p]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var o,i,r,s,a,l,c,u,p=ie.ajaxSetup({},t),d=p.context||p,f=p.context&&(d.nodeType||d.jquery)?ie(d):ie.event,h=ie.Deferred(),v=ie.Callbacks("once memory"),y=p.statusCode||{},g={},m={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=mt.exec(r);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?r:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=m[n]=m[n]||e,g[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)y[t]=[y[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return o&&o.abort(t),n(0,t),this}};if(h.promise(w).complete=v.add,w.success=w.done,w.error=w.fail,p.url=((e||p.url||kt)+"").replace(yt,"").replace(wt,Pt[1]+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=ie.trim(p.dataType||"*").toLowerCase().match(me)||[""],null==p.crossDomain&&(l=St.exec(p.url.toLowerCase()),p.crossDomain=!(!l||l[1]===Pt[1]&&l[2]===Pt[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(Pt[3]||("http:"===Pt[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ie.param(p.data,p.traditional)),V(Ct,p,t,w),2===x)return w;c=ie.event&&p.global,c&&0===ie.active++&&ie.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!bt.test(p.type),i=p.url,p.hasContent||(p.data&&(i=p.url+=(vt.test(i)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=gt.test(i)?i.replace(gt,"$1_="+ht++):i+(vt.test(i)?"&":"?")+"_="+ht++)),p.ifModified&&(ie.lastModified[i]&&w.setRequestHeader("If-Modified-Since",ie.lastModified[i]),ie.etag[i]&&w.setRequestHeader("If-None-Match",ie.etag[i])),(p.data&&p.hasContent&&p.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+At+"; q=0.01":""):p.accepts["*"]);for(u in p.headers)w.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(p.beforeSend.call(d,w,p)===!1||2===x))return w.abort();b="abort";for(u in{success:1,error:1,complete:1})w[u](p[u]);if(o=V(Tt,p,t,w)){w.readyState=1,c&&f.trigger("ajaxSend",[w,p]),p.async&&p.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},p.timeout));try{x=1,o.send(g,n)}catch(S){if(!(2>x))throw S;n(-1,S)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,o,i){return ie.isFunction(n)&&(i=i||o,o=n,n=void 0),ie.ajax({url:e,type:t,dataType:i,data:n,success:o})}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(e){var t;return ie.isFunction(e)?this.each(function(t){ie(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ie(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(ie.isFunction(e)?function(t){ie(this).wrapInner(e.call(this,t))}:function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var Mt=/%20/g,Et=/\[\]$/,Dt=/\r?\n/g,Bt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,o=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)$(n,e[n],t,i);return o.join("&").replace(Mt,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Lt.test(this.nodeName)&&!Bt.test(e)&&(this.checked||!Ee.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var It=0,Nt={},Rt={0:200,1223:204},Ot=ie.ajaxSettings.xhr();r.attachEvent&&r.attachEvent("onunload",function(){for(var e in Nt)Nt[e]()}),te.cors=!!Ot&&"withCredentials"in Ot,te.ajax=Ot=!!Ot,ie.ajaxTransport(function(e){var t;return te.cors||Ot&&!e.crossDomain?{send:function(n,o){var i,r=e.xhr(),s=++It;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)r[i]=e.xhrFields[i];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)r.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Nt[s],t=r.onload=r.onerror=null,"abort"===e?r.abort():"error"===e?o(r.status,r.statusText):o(Rt[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=t(),r.onerror=t("error"),t=Nt[s]=t("abort");try{r.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}:void 0}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(o,i){t=ie("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),ne.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Ft=[],jt=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ft.pop()||ie.expando+"_"+ht++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(e,t,n){var o,i,s,a=e.jsonp!==!1&&(jt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&jt.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=ie.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(jt,"$1"+o):e.jsonp!==!1&&(e.url+=(vt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||ie.error(o+" was not called"),s[0]},e.dataTypes[0]="json",i=r[o],r[o]=function(){s=arguments},n.always(function(){r[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,Ft.push(o)),s&&ie.isFunction(i)&&i(s[0]),s=i=void 0}),"script"):void 0}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ne;var o=pe.exec(e),i=!n&&[];return o?[t.createElement(o[1])]:(o=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],o.childNodes))};var qt=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&qt)return qt.apply(this,arguments);var o,i,r,s=this,a=e.indexOf(" ");return a>=0&&(o=ie.trim(e.slice(a)),e=e.slice(0,a)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&ie.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){r=arguments,s.html(o?ie("<div>").append(ie.parseHTML(e)).find(o):e)}).complete(n&&function(e,t){s.each(n,r||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var _t=r.document.documentElement;ie.offset={setOffset:function(e,t,n){var o,i,r,s,a,l,c,u=ie.css(e,"position"),p=ie(e),d={};"static"===u&&(e.style.position="relative"),a=p.offset(),r=ie.css(e,"top"),l=ie.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1,c?(o=p.position(),s=o.top,i=o.left):(s=parseFloat(r)||0,i=parseFloat(l)||0),ie.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+i),"using"in t?t.using.call(e,d):p.css(d)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,o=this[0],i={top:0,left:0},r=o&&o.ownerDocument;return r?(t=r.documentElement,ie.contains(t,o)?(typeof o.getBoundingClientRect!==De&&(i=o.getBoundingClientRect()),n=U(r),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],o={top:0,left:0};return"fixed"===ie.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(o=e.offset()),o.top+=ie.css(e[0],"borderTopWidth",!0),o.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-o.top-ie.css(n,"marginTop",!0),left:t.left-o.left-ie.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||_t;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||_t})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ie.fn[e]=function(o){return we(this,function(e,o,i){var s=U(e);return void 0===i?s?s[t]:e[o]:void(s?s.scrollTo(n?r.pageXOffset:i,n?i:r.pageYOffset):e[o]=i)},e,o,arguments.length,null)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=P(te.pixelPosition,function(e,n){return n?(n=k(e,t),Xe.test(n)?ie(e).position()[t]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,o){ie.fn[o]=function(o,i){var r=arguments.length&&(n||"boolean"!=typeof o),s=n||(o===!0||i===!0?"margin":"border");return we(this,function(t,n,o){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?ie.css(t,n,s):ie.style(t,n,o,s)},t,r?o:void 0,r,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,n(3)&&(o=[],i=function(){return ie}.apply(t,o),!(void 0!==i&&(e.exports=i)));var Vt=r.jQuery,Ht=r.$;return ie.noConflict=function(e){return r.$===ie&&(r.$=Ht),e&&r.jQuery===ie&&(r.jQuery=Vt),ie},typeof s===De&&(r.jQuery=r.$=ie),ie})},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){var o;o=function(e){var t=function(e){this.src=e,this.audio=new Audio,this.audio.src=e,this.audio.load(),this.audio.volume=.3};return t.prototype.play=function(){var e=this.audio;"undefined"!=typeof e.currentTime&&(e.currentTime=0),e.play()},t}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))},function(e,t,n){var o;o=function(e){var t=n(1),o=t.Body,i=(n(6),n(7)),r=function(){this.body=null,this.pointList=[],this.initialPosition=null,this.style={fillStyle:"green",strokeStyle:"red",lineWidth:2,lineDash:[],lineCap:"butt",lineJoin:"miter",strokeGlobalAlpha:1,fillGlobalAlpha:1}};return r.prototype.slashMovementPower=1,r.prototype._createBody=function(e){e=i.convertLoopwise(e);var t=i.gravity2D(e),n={position:t,frictionAir:0,friction:.1,restitution:.6,vertices:e,render:{visible:!1}},r=o.create(n);return r},r.prototype.createBody=function(e,t){var n=[];if(t)for(var r in t)this.style[r]=t[r];e=i.omitSamePoint(e);for(var s=i.triangleSplit(e),a=0;a<s.length;a++){var l=this._createBody(s[a]);n.push(l)}var c=o.create({parts:n});this.body=c,this.pointList=e.concat(),this.initialPosition=i.pointCopy2D(this.body.position)},r.prototype.getOriginalPointList=function(){var e=[],t=this.pointList,n=i.vecSub2D(this.body.position,this.initialPosition);return t.forEach(function(t,o){var r=i.vecAdd2D(t,n);r=i.rotate2D(r,this.body.angle,this.body.position),e.push(r)},this),e},r.prototype.slash=function(e){var t=this.getOriginalPointList(),n=this._slashLoop(t,e),o=[];return n.forEach(function(e){var t=new this.constructor;t.createBody(e),t.inherit(this),o.push(t)},this),o.length>1&&o.forEach(function(t){t.addSlashMovement(e)},this),o},r.prototype.inherit=function(e){this.style=e.style;var t=i.vecSub2D(e.body.position,e.body.positionPrev);this.body.positionPrev.x-=t.x,this.body.positionPrev.y-=t.y,this.body.velocity.x=e.body.velocity.x,this.body.velocity.y=e.body.velocity.y},r.prototype.addSlashMovement=function(e){var t=i.vecSub2D(e[1],e[0]),n=i.gravity2D(this.getOriginalPointList()),r=i.pedalPoint2D(n,e),s=i.vecSub2D(n,r);try{var a=i.vecUnit2D(t),l=i.vecUnit2D(s),c=Math.random();a=i.vecMult2D(a,2e-5+2e-4*c),l=i.vecMult2D(l,2e-4+.002*c),a=i.vecMult2D(a,this.body.mass),l=i.vecMult2D(l,this.body.mass);var u=i.vecAdd2D(a,l);u=i.vecMult2D(u,this.slashMovementPower),o.applyForce(this.body,r,u)}catch(p){}},r.prototype._slashLoop=function(e,t){var n=[],o=i.crossPolygonAndLine(e,t);if(o.length>0){var r=i.splitPolyByLine(e,t);r.length>1?r.forEach(function(e){n=n.concat(this._slashLoop(e,t))},this):n.push(e)}else n.push(e);return n},r.prototype.onPaint=function(e){var t=this.style;e.strokeStyle=t.strokeStyle,e.lineWidth=t.lineWidth,e.lineJoin=t.lineJoin,e.fillStyle=t.fillStyle,e.setLineDash(t.lineDash),e.beginPath(),this.pointList.length>1&&this.getOriginalPointList().forEach(function(t,n){0===n?e.moveTo(t.x,t.y):e.lineTo(t.x,t.y)},this),e.closePath(),t.fill&&(e.globalAlpha=t.fillGlobalAlpha,e.fill()),t.stroke&&(e.globalAlpha=t.strokeGlobalAlpha,e.stroke()),e.globalAlpha=1},r}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))},function(e,t,n){var o;o=function(e){var t=n(7),o={BEZIER_SPLIT_COUNT:5,ELLIPSE_SPLIT_COUNT:20,loadSvgGraphicsPath:function(e){var t=new DOMParser,n=null;try{n=t.parseFromString(e,"application/xml")}catch(o){throw console.log("This svg resouce is invalid to parse."),o}var i=this.parseSvgGraphics(n);return i},parseSvgGraphics:function(e){var t=[],n=0,o=e.getElementsByTagName("path");for(n=0;n<o.length;n++)t.push({tag:"path",pointList:this.parsePath(o[n]),style:this.parseTagStyle(o[n])});var i=e.getElementsByTagName("rect");for(n=0;n<i.length;n++)t.push({tag:"rect",pointList:this.parseRect(i[n]),style:this.parseTagStyle(i[n])});var r=e.getElementsByTagName("ellipse");for(n=0;n<r.length;n++)t.push({tag:"ellipse",pointList:this.parseEllipse(r[n]),style:this.parseTagStyle(r[n])});var s=e.getElementsByTagName("circle");for(n=0;n<s.length;n++)t.push({tag:"circle",pointList:this.parseCircle(s[n]),style:this.parseTagStyle(s[n])});return t},adoptTransform:function(e,n){var o=[];if(n.forEach(function(e){o.push(t.pointCopy2D(e))},this),!e.attributes.transform)return o;var i=e.attributes.transform.value.split(/\)/);return i.forEach(function(e){var n=e.split(/\(/);if(2===n.length){var i=n[0],r=[];switch(n[1].split(/,/).forEach(function(e){r.push(parseFloat(e,10))}),i.trim().toLowerCase()){case"matrix":o=t.transform2D(o,r);break;case"translate":o.forEach(function(e){e.x+=r[0],e.y+=r[1]},this);break;case"scale":var s=r[0],a=r[0];r.length>1&&(a=r[1]),o.forEach(function(e){e.x*=s,e.y*=a},this);break;case"rotate":var l=null;r.length>2&&(l={x:r[1],y:r[2]}),o.forEach(function(e){var n=t.rotate2D(e,r[0]*Math.PI/180,l);e.x=n.x,e.y=n.y},this);break;case"skewx":o.forEach(function(e){e.x+=Math.tan(r[0])*e.y},this);break;case"skewy":o.forEach(function(e){e.y+=Math.tan(r[0])*e.x},this)}}},this),o},parseCircle:function(e){var n=[],o=parseFloat(e.attributes.cx.value,10),i=parseFloat(e.attributes.cy.value,10),r=parseFloat(e.attributes.r.value,10);return n=t.approximateArc(r,r,0,2*Math.PI,{x:o,y:i},0,this.ELLIPSE_SPLIT_COUNT),n=this.adoptTransform(e,n)},parseEllipse:function(e){var n=[],o=parseFloat(e.attributes.cx.value,10),i=parseFloat(e.attributes.cy.value,10),r=parseFloat(e.attributes.rx.value,10),s=parseFloat(e.attributes.ry.value,10);return n=t.approximateArc(r,s,0,2*Math.PI,{x:o,y:i},0,this.ELLIPSE_SPLIT_COUNT),n=this.adoptTransform(e,n)},parseRect:function(e){var t=[],n=parseFloat(e.attributes.x.value,10),o=parseFloat(e.attributes.y.value,10),i=parseFloat(e.attributes.width.value,10),r=parseFloat(e.attributes.height.value,10);return t.push({x:n,y:o}),t.push({x:n+i,y:o}),t.push({x:n+i,y:o+r}),t.push({x:n,y:o+r}),t=this.adoptTransform(e,t)},parsePath:function(e){for(var n=[],o=this.splitD(e.attributes.d.value),i={x:0,y:0},r={x:0,y:0},s=0;s<o.length;s++){var a=o[s],l=[],c=null,u=null,p=null,d=null;switch(a.command){case"M":l.push({x:a.x,y:a.y});break;case"m":l.push({x:i.x+a.x,y:i.y+a.y});break;case"L":case"H":case"V":l.push({x:a.x,y:a.y});break;case"l":case"h":case"v":l.push({x:i.x+a.x,y:i.y+a.y});break;case"Q":c=i,u={x:a.x,y:a.y},p={x:a.x2,y:a.y2},l=t.approximateBezier([c,u,p],this.BEZIER_SPLIT_COUNT);break;case"q":c=i,u={x:c.x+a.x,y:c.y+a.y},p={x:c.x+a.x2,y:c.y+a.y2},l=t.approximateBezier([c,u,p],this.BEZIER_SPLIT_COUNT);break;case"T":c=i,u=t.symmetryPoint2D(c,r),p={x:a.x,y:a.y},l=t.approximateBezier([c,u,p],this.BEZIER_SPLIT_COUNT);break;case"t":c=i,u=t.symmetryPoint2D(c,r),p={x:c.x+a.x,y:c.y+a.y},l=t.approximateBezier([c,u,p],this.BEZIER_SPLIT_COUNT);break;case"C":c=i,u={x:a.x,y:a.y},p={x:a.x2,y:a.y2},d={x:a.x3,y:a.y3},l=t.approximateBezier([c,u,p,d],this.BEZIER_SPLIT_COUNT),l.splice(0,1);break;case"c":c=i,u={x:c.x+a.x,y:c.y+a.y},p={x:c.x+a.x2,y:c.y+a.y2},d={x:c.x+a.x3,y:c.y+a.y3},l=t.approximateBezier([c,u,p,d],this.BEZIER_SPLIT_COUNT),l.splice(0,1);break;case"S":c=i,u=t.symmetryPoint2D(c,r),p={x:a.x,y:a.y},d={x:a.x2,y:a.y2},l=t.approximateBezier([c,u,p,d],this.BEZIER_SPLIT_COUNT),l.splice(0,1);break;case"s":c=i,u=t.symmetryPoint2D(c,r),p={x:c.x+a.x,y:c.y+a.y},d={x:c.x+a.x2,y:c.y+a.y2},l=t.approximateBezier([c,u,p,d],this.BEZIER_SPLIT_COUNT),l.splice(0,1);break;case"A":l.push({x:a.x,y:a.y});break;case"a":l.push({x:i.x+a.x,y:i.y+a.y});break;default:continue}l.length>0&&(i=l[l.length-1],n=n.concat(l),l.length>1&&(r=l[l.length-2]))}return n=this.adoptTransform(e,n)},splitD:function(e){for(var t=[],n=/M|m|L|l|H|h|V|v|C|c|S|s|Q|q|T|t|A|a|Z|z|B|b|R|r/,o=/H|h/,i=/V|v/,r=/M|m|L|l|T|t|Q|q|C|c/,s=/Q|q|C|c|S|s/,a=/C|c/,l=/A|a/,c=e;c.length>0;){var u={};u.command=c[0],c=c.slice(1);var p=null,d=c.search(n);-1===d?(p=c.slice(0),c=""):(p=c.slice(0,d),c=c.slice(d));var f=p.trim().split(/,| /);-1!==u.command.search(o)?(u.x=parseFloat(f[0],10),u.y=0):-1!==u.command.search(i)?(u.x=0,u.y=parseFloat(f[0],10)):-1!==u.command.search(l)?(u.rx=parseFloat(f[0],10),u.ry=parseFloat(f[1],10),u.xAxisRotation=parseFloat(f[2],10),u.largeArcFlag=parseFloat(f[3],10),u.sweepFlag=parseFloat(f[4],10),u.x=parseFloat(f[5],10),u.y=parseFloat(f[6],10)):-1!==u.command.search(r)&&(u.x=parseFloat(f[0],10),u.y=parseFloat(f[1],10),-1!==u.command.search(s)&&(u.x2=parseFloat(f[2],10),u.y2=parseFloat(f[3],10),-1!==u.command.search(a)&&(u.x3=parseFloat(f[4],10),u.y3=parseFloat(f[5],10)))),t.push(u)}return t},parseTagStyle:function(e){var t={},n=[];if(e.attributes.style){var o=e.attributes.style.value;o.split(";").forEach(function(e){var t=e.split(":"),o=t[0],i=t[1];n[o]=i},this)}else for(var i=0;i<e.attributes.length;i++)n[e.attributes[i].name]=e.attributes[i].value;for(var r in n){var s=n[r];if("fill"===r.toLowerCase())"none"===s?(t.fillStyle=0,t.fill=!1):(t.fillStyle=s,t.fill=!0);else if("stroke"===r.toLowerCase())"none"===s?(t.strokeStyle=0,t.stroke=!1):(t.strokeStyle=s,t.stroke=!0);else if("stroke-width"===r.toLowerCase())t.lineWidth=parseFloat(s,10);else if("stroke-opacity"===r.toLowerCase())t.strokeGlobalAlpha=parseFloat(s,10);else if("fill-opacity"===r.toLowerCase())t.fillGlobalAlpha=parseFloat(s,10);else if("stroke-linecap"===r.toLowerCase())t.lineCap=s;else if("stroke-linejoin"===r.toLowerCase())t.lineJoin=s;else if("stroke-dasharray"===r.toLowerCase()){var a=s.split(",");t.lineDash=[],a.forEach(function(e){t.lineDash.push(parseFloat(e,10))})}}return t}};return o}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))},function(e,t,n){var o;o=function(){var e={MINVALUE:1e-6,isSame2D:function(e,t){return Math.abs(e.x-t.x)<this.MINVALUE&&Math.abs(e.y-t.y)<this.MINVALUE},length2D:function(e,t){t=t||{x:0,y:0};var n=e.x-t.x,o=e.y-t.y;return Math.sqrt(n*n+o*o)},vecAdd2D:function(e,t){return{x:e.x+t.x,y:e.y+t.y}},vecSub2D:function(e,t){return{x:e.x-t.x,y:e.y-t.y}},vecMult2D:function(e,t){return{x:e.x*t,y:e.y*t}},vecUnit2D:function(e){var t=this.length2D(e);if(Math.abs(t)<this.MINVALUE)throw new Error("Unit vector cannot be calced from zero vector.");return this.vecMult2D(e,1/t)},cross2D:function(e,t){return e.x*t.y-e.y*t.x},inner2D:function(e,t){return e.x*t.x+e.y*t.y},pointCopy2D:function(e){return e?{x:e.x,y:e.y}:null},pointArrayCopy2D:function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.pointCopy2D(e[n]));return t},centralPoint2D:function(e,t){var n=this.vecAdd2D(e,t);return this.vecMult2D(n,.5)},radian2D:function(e,t){var n=e.x-t.x,o=e.y-t.y;return(Math.atan2(o,n)+2*Math.PI)%(2*Math.PI)},symmetryPoint2D:function(e,t){var n=this.vecSub2D(t,e),o=this.pointCopy2D(e);return o.x+=n.x,o.y+=n.y,o},rotate2D:function(e,t,n){n=n||{x:0,y:0},e=this.vecSub2D(e,n);var o=(this.length2D(e),{});return o.x=Math.cos(t)*e.x-Math.sin(t)*e.y,o.y=Math.sin(t)*e.x+Math.cos(t)*e.y,o=this.vecAdd2D(o,n)},solveEquationOrder2:function(e,t,n){if(0===e)return 0===t?[]:[-n/t];var o=t*t-4*e*n;if(0>o)return[];var i=.5/e;if(0===o)return[-t*i];var r=Math.sqrt(o);return[(-t+r)*i,(-t-r)*i]},pedalPoint2D:function(e,t){var n=t[0],o=t[1],i=this.vecSub2D(o,n),r=this.vecSub2D(e,n),s=this.inner2D(i,r),a=s/this.inner2D(i,i);return this.vecAdd2D(n,this.vecMult2D(i,a))},_rayToBezier2:function(e,t,n,o,i){var r=i.x-o.x,s=i.y-o.y,a=e.x-2*t.x+n.x,l=2*(t.x-e.x),c=e.x,u=e.y-2*t.y+n.y,p=2*(t.y-e.y),d=e.y,f=this.solveEquationOrder2(a*s-r*u,l*s-r*p,s*c-s*o.x-r*d+r*o.y);return f},crossLineAndBezier:function(e,t,n,o,i){
for(var r=this._rayToBezier2(e,t,n,o,i),s=(i.x-o.x,i.y-o.y,[]),a=0;a<r.length;a++)0<=r[a]&&r[a]<=1&&s.push({x:(n.x-2*t.x+e.x)*r[a]*r[a]+2*(t.x-e.x)*r[a]+e.x,y:(n.y-2*t.y+e.y)*r[a]*r[a]+2*(t.y-e.y)*r[a]+e.y});return s},aroundRectangle:function(e){var t=[],n=[];e.forEach(function(e){t.push(e.x),n.push(e.y)});var o={x:Math.min.apply(null,t),y:Math.min.apply(null,n)},i={x:Math.max.apply(null,t),y:Math.max.apply(null,n)};return{x:o.x,y:o.y,width:i.x-o.x,height:i.y-o.y}},centerOfAroundRectangle:function(e){var t=this.aroundRectangle(e);return{x:t.x+t.width/2,y:t.y+t.height/2}},isPointOnTriangle:function(e,t){var n=this.vecSub2D(e[1],e[0]),o=this.vecSub2D(e[2],e[1]),i=this.vecSub2D(e[0],e[2]),r=this.vecSub2D(t,e[0]),s=this.vecSub2D(t,e[1]),a=this.vecSub2D(t,e[2]),l=this.cross2D(n,s),c=this.cross2D(o,a),u=this.cross2D(i,r);return l>=0&&c>=0&&u>=0||0>=l&&0>=c&&0>=u?!0:!1},isPointOnArea:function(e,t){var n=0,o=[];for(n=0;n<e.length;n++){var i=e[n%e.length],r=e[(n+1)%e.length];(i.x>=t.x||r.x>=t.x)&&o.push([i,r])}var s=0;for(n=0;n<o.length;n++){var a=this.aroundRectangle(e),l=a.x+a.width;this.isCrossSegAndSeg([t,{x:l,y:t.y}],o[n])&&s++}return s%2===1},isPointOnBezierArea:function(e,t,n){var o=0,i=null,r=null,s=null,a=e.length,l=[],c=[];for(o=0;a>o;o++)r=e[o%a],s=e[(o+1)%a],t[(o+1)%a]?c.push([r,t[(o+1)%a],s]):l.push([r,s]);var u=0,p=this.aroundRectangle(e),d=10*(p.x+p.width),f={x:d,y:n.y};for(o=0;o<l.length;o++)this.isCrossSegAndSeg([n,f],l[o])&&u++;for(o=0;o<c.length;o++){i=c[o][0],r=c[o][1],s=c[o][2];for(var h=this.crossLineAndBezier(i,r,s,n,f),v=0;v<h.length;v++)h[v].x>=n.x&&u++}return u%2===1},isCrossSegAndSeg:function(e,t){return this._isCrossSegAndSeg(e[0].x,e[0].y,e[1].x,e[1].y,t[0].x,t[0].y,t[1].x,t[1].y)},_isCrossSegAndSeg:function(e,t,n,o,i,r,s,a){var l=(i-s)*(t-r)+(r-a)*(i-e),c=(i-s)*(o-r)+(r-a)*(i-n),u=(e-n)*(r-t)+(t-o)*(e-i),p=(e-n)*(a-t)+(t-o)*(e-s);return 0>u*p&&0>l*c},isCrossLineAndSeg:function(e,t){var n=this.cross2D(e[0],this.vecSub2D(t[0],e[1])),o=this.cross2D(e[0],this.vecSub2D(t[1],e[1]));return 0>n*o?!0:!1},isParallel:function(e,t){e=Array.isArray(e)?this.vecSub2D(e[1],e[0]):e,t=Array.isArray(t)?this.vecSub2D(t[1],t[0]):t;var n=this.cross2D(e,t);return Math.abs(n)<this.MINVALUE?!0:!1},crossPolygonAndLine:function(e,t){for(var n=[],o=e.length,i=0;o>i;i++){var r=[e[i],e[(i+1)%o]],s=this.crossSegAndLine(r,t);null!==s&&n.push(s)}return n},isOnLine:function(e,t){var n=this.pedalPoint2D(e,t);return this.isSame2D(e,n)},crossSegAndLine:function(e,t){if(this.isParallel(e,t))return null;if(this.isOnLine(e[0],t))return this.pointCopy2D(e[0]);if(this.isOnLine(e[1],t))return this.pointCopy2D(e[1]);var n=((t[1].x-t[0].x)*(e[0].y-t[0].y)-(t[1].y-t[0].y)*(e[0].x-t[0].x))/2,o=((t[1].x-t[0].x)*(t[0].y-e[1].y)-(t[1].y-t[0].y)*(t[0].x-e[1].x))/2,i=n/(n+o);if(i>0&&1>i){var r={x:e[0].x+(e[1].x-e[0].x)*i,y:e[0].y+(e[1].y-e[0].y)*i};return r}return null},splitPolyByLine:function(e,t){var n=this,o=[],i=[],r=[],s=0,a=e.length;for(s=0;a>s;s++){var l=[e[s%a],e[(s+1)%a]],c=this.crossSegAndLine(l,t);o.push(e[s%a]),null!==c&&(o.push(c),i.push(s+1+i.length),r.push(c))}if(r.length%2!==0)return[];var u=this.radian2D(t[0],t[1]);r.sort(function(e,t){return e=n.rotate2D(e,-u),t=n.rotate2D(t,-u),e.x-t.x});for(var p=[],d=0;d<r.length-1;){for(var f=[r[d],r[d+1]],h=!1,v=0;v<e.length;v++)if(this.isSameSeg2D(f,[e[v],e[(v+1)%e.length]])){h=!0;break}if(!h){p=f;break}d+=2}if(2!==p.length)return[];var y=r.concat(),g=y.indexOf(p[0]);-1!==g&&y.splice(g,1),g=y.indexOf(p[1]),-1!==g&&y.splice(g,1);var m=o.concat();y.forEach(function(e){var t=m.indexOf(e);m.splice(t,1)}),o=m,r=p;var x=o.indexOf(r[0]),b=o.indexOf(r[1]);if(-1===x||-1===b)return[];i=[],i[0]=Math.min(x,b),i[1]=Math.max(x,b);var w=[];if(2==i.length){var S=[];for(s=0;s<=i[0];s++)S.push({x:o[s].x,y:o[s].y});for(s=i[1];s<o.length;s++)S.push({x:o[s].x,y:o[s].y});for(w.push(S),S=[],s=i[0];s<=i[1];s++)S.push({x:o[s].x,y:o[s].y});w.push(S),S=[]}return w},omitSamePoint:function(e){for(var t=e.concat(),n=e.length,o=0;n>o;o++){var i=t[o],r=t[(o+1)%n];if(this.isSame2D(i,r)){t.splice(o,1),t=this.omitSamePoint(t);break}}return t},triangleSplit:function(e){var t=this;e=this.convertLoopwise(e);for(var n=e.concat(),o=0,i=0,r=[];n.length>=3;){var s=n.concat();s.sort(function(e,n){return t.length2D(n)-t.length2D(e)}),o=n.indexOf(s[0]);var a=this._getTriangle(n,o);if(a)n.splice(o,1);else{var l=n.length,c=this.vecSub2D(n[(o+1)%l],n[o]),u=this.vecSub2D(n[0>o-1?l-1:o-1],n[o]);i=this.cross2D(c,u);for(var p=o;!a;){p=(p+1)%l;var d=this.vecSub2D(n[(p+1)%l],n[p]),f=this.vecSub2D(n[0>p-1?l-1:p-1],n[p]),h=this.cross2D(d,f);h*i>0&&(a=this._getTriangle(n,p))}n.splice(p,1)}r.push(a)}return r},_getTriangle:function(e,t){var n=e.length,o=e[t],i=e[(t+1)%n],r=e[0>t-1?n-1:t-1],s=[o,i,r];return e.some(function(e){return e!==o&&e!==i&&e!==r&&this.isPointOnTriangle(s,e)?(s=null,!0):void 0},this),s},area:function(e,t){var n=0;if(e.length>2){for(var o=e.length,i=0;o-1>i;i++)n+=(e[i].x-e[i+1].x)*(e[i].y+e[i+1].y);n+=(e[o-1].x-e[0].x)*(e[o-1].y+e[0].y),n/=2,t||(n=Math.abs(n))}return n},loopwise:function(e){var t=this.area(e,!0);return t>0?1:0>t?-1:0},convertLoopwise:function(e){var t=e.concat();return-1===this.loopwise(e)&&t.reverse(),t},gravity2D:function(e){var t={x:0,y:0};return e.forEach(function(e){t.x+=e.x,t.y+=e.y}),t.x/=e.length,t.y/=e.length,t},isSameSeg2D:function(e,t){return this.isSame2D(e[0],t[0])&&this.isSame2D(e[1],t[1])||this.isSame2D(e[1],t[0])&&this.isSame2D(e[0],t[1])?!0:!1},approximateBezier:function(e,t){var n,o,i,r,s,a,l,c,u=[];if(3===e.length)for(i=1/t,n=0;t>=n;n++)r=i*n,s=this.vecMult2D(e[0],(1-r)*(1-r)),a=this.vecMult2D(e[1],2*r*(1-r)),l=this.vecMult2D(e[2],2*r*r),o={x:s.x+a.x+l.x,y:s.y+a.y+l.y},u.push(o);else if(4===e.length)for(i=1/t,n=0;t>=n;n++)r=i*n,s=this.vecMult2D(e[0],(1-r)*(1-r)*(1-r)),a=this.vecMult2D(e[1],3*r*(1-r)*(1-r)),l=this.vecMult2D(e[2],3*r*r*(1-r)),c=this.vecMult2D(e[3],r*r*r),o={x:s.x+a.x+l.x+c.x,y:s.y+a.y+l.y+c.y},u.push(o);return u},approximateArc:function(e,t,n,o,i,r,s){var a=[],l=0,c=null,u=0,p=o-n,d=p/s;for(l=0;s>l;l++)u=d*l+n,c={x:e*Math.cos(u),y:t*Math.sin(u)},a.push(c);return a.forEach(function(e){e.x+=i.x,e.y+=i.y},this),a},transform2D:function(e,t){var n=[],o=t[0],i=t[1],r=t[2],s=t[3],a=t[4],l=t[5];return e.forEach(function(e){var t={x:o*e.x+r*e.y+a,y:i*e.x+s*e.y+l};n.push(t)},this),n}};return e}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))},function(e,t,n){var o;o=function(e){var t={getCursorPoint:function(e){var t=null,n=e.originalEvent||e;n.touches&&n.touches.length>0&&(n=n.touches[0]);var o=n.target.getBoundingClientRect(),i=o.left+window.pageXOffset,r=o.top+window.pageYOffset;return t={x:n.pageX-i,y:n.pageY-r}}};return t}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))}])});